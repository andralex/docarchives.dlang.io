
<!DOCTYPE html>
<html lang="en-US">
<!--
    Copyright (c) 1999-2017 by Digital Mars
    All Rights Reserved Written by Walter Bright
    http://digitalmars.com
  -->
<head>
<meta charset="utf-8">
<meta name="keywords" content="D programming language">
<meta name="description" content="D Programming Language">
<title>std.algorithm.iteration - D Programming Language</title>

<link rel="stylesheet" href="../css/codemirror.css">
<link rel="stylesheet" href="../css/style.css">
<link rel="stylesheet" href="../css/print.css" media="print">
<link rel="shortcut icon" href="../favicon.ico">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=0.1, maximum-scale=10.0">

</head>
<body id='std.algorithm.iteration' class='std'>
<script type="text/javascript">document.body.className += ' have-javascript'</script>
<div id="top"><div class="helper"><div class="helper expand-container">    <div class="logo"><a href=".."><img id="logo" alt="D Logo" src="../images/dlogo.svg"></a></div>
    <a href="../menu.html" title="Menu" class="hamburger expand-toggle"><span>Menu</span></a>
    
<div id="cssmenu"><ul>    <li><a href='../getstarted.html'><span>Learn</span></a></li>
    <li class='expand-container'><a class='expand-toggle' href='../documentation.html'><span>Documentation</span></a>
      
<ul class='expand-content'><li><a href='    ../spec/intro.html'>Language Reference</a></li><li><a href='    ../phobos/index.html'>Library Reference</a></li><li><a href='    ../comparison.html'>Feature Overview</a></li><li><a href='    ../dmd-windows.html'>DMD Manual</a></li><li><a href='    ../articles.html'>Articles
</a></li></ul></li>
    <li><a href='../download.html'><span>Downloads</span></a></li>
    <li><a href='https://code.dlang.org'><span>Packages</span></a></li>
    <li class='expand-container'><a class='expand-toggle' href='../community.html'><span>Community</span></a>
      
<ul class='expand-content'><li><a href='    ../bugstats.php'>Bug Tracker</a></li><li><a href='    https://forum.dlang.org'>Forums</a></li><li><a href='    irc://irc.freenode.net/d'>IRC</a></li><li><a href='    https://github.com/D-Programming-Language'>D on GitHub</a></li><li><a href='    https://wiki.dlang.org'>Wiki</a></li><li><a href='    https://wiki.dlang.org/Review_Queue'>Review Queue</a></li><li><a href='    https://twitter.com/search?q=%23dlang'>Twitter</a></li><li><a href='    http://digitalmars.com/d/dlinks.html'>More Links
</a></li></ul></li>
    <li class='expand-container'><a class='expand-toggle' href='../resources.html'><span>Resources</span></a>
      
<ul class='expand-content'><li><a href='    ../library/index.html'>NEW Library Reference Preview</a></li><li><a href='    ../tools.html'>D-Specific Tools</a></li><li><a href='    http://rainers.github.io/visuald/visuald/StartPage.html'>Visual D</a></li><li><a href='    https://wiki.dlang.org/Editors'>Editors</a></li><li><a href='    https://wiki.dlang.org/IDEs'>IDEs</a></li><li><a href='    https://wiki.dlang.org/Tutorials'>Tutorials</a></li><li><a href='    https://wiki.dlang.org/Books'>Books</a></li><li><a href='    ../dstyle.html'>The D Style</a></li><li><a href='    ../glossary.html'>Glossary</a></li><li><a href='    ../acknowledgements.html'>Acknowledgments</a></li><li><a href='    ../sitemap.html'>Sitemap
</a></li></ul></li>
</ul></div>
    <div class="search-container expand-container">        <a href="../search.html" class="expand-toggle" title="Search"><span>Search</span></a>
        
    <div id="search-box">        <form method="get" action="https://google.com/search">
            <input type="hidden" id="domains" name="domains" value="dlang.org">
            <input type="hidden" id="sourceid" name="sourceid" value="google-search">
            <span id="search-query"><input id="q" name="q" placeholder="Search"></span><span id="search-dropdown"><span class="helper">                <select id="sitesearch" name="sitesearch" size="1">
                    <option value="dlang.org">Entire Site</option>
                    <option  value="dlang.org/spec">Language</option>
                    <option selected value="dlang.org/phobos">Library</option>
                    <option  value="forum.dlang.org">Forums</option>
                    
                </select>
            </span></span><span id="search-submit"><button type="submit"><i class="fa fa-search"></i><span>go</span></button></span>
        </form>
    </div>
    </div>
</div></div></div>

<div class="container">    
<div class="subnav-helper"></div> <div class="subnav">    <div class="head">        <h2>Library Reference</h2>
        <p><span class="smallprint">pre-release version <span class="separator"><br></span>
            <a href="../phobos/index.html">switch to version 2.071.0</a></span></p>
        <p><a href="index.html">overview</a></p>
    </div>
    <ul>
<li><a href='object.html'><span><em class="tt">object</em></span></a></li>

<li class='expand-container'><a class='expand-toggle' href='#'><span><em class="tt">std</em></span></a>
<ul><li>  <a href="std_algorithm.html" title="std.algorithm"><span class="d_inlinecode donthyphenate notranslate">algorithm</span></a><ul><li>    <a href="std_algorithm_comparison.html" title="std.algorithm.comparison"><span class="d_inlinecode donthyphenate notranslate">comparison</span></a></li><li>    <a href="std_algorithm_iteration.html" title="std.algorithm.iteration"><span class="d_inlinecode donthyphenate notranslate">iteration</span></a></li><li>    <a href="std_algorithm_mutation.html" title="std.algorithm.mutation"><span class="d_inlinecode donthyphenate notranslate">mutation</span></a></li><li>    <a href="std_algorithm_searching.html" title="std.algorithm.searching"><span class="d_inlinecode donthyphenate notranslate">searching</span></a></li><li>    <a href="std_algorithm_setops.html" title="std.algorithm.setops"><span class="d_inlinecode donthyphenate notranslate">setops</span></a></li><li>    <a href="std_algorithm_sorting.html" title="std.algorithm.sorting"><span class="d_inlinecode donthyphenate notranslate">sorting</span></a>
  </li></ul></li><li>  <a href="std_array.html" title="std.array"><span class="d_inlinecode donthyphenate notranslate">array</span></a></li><li>  <a href="std_ascii.html" title="std.ascii"><span class="d_inlinecode donthyphenate notranslate">ascii</span></a></li><li>  <a href="std_base64.html" title="std.base64"><span class="d_inlinecode donthyphenate notranslate">base64</span></a></li><li>  <a href="std_bigint.html" title="std.bigint"><span class="d_inlinecode donthyphenate notranslate">bigint</span></a></li><li>  <a href="std_bitmanip.html" title="std.bitmanip"><span class="d_inlinecode donthyphenate notranslate">bitmanip</span></a></li><li>  <a href="std_compiler.html" title="std.compiler"><span class="d_inlinecode donthyphenate notranslate">compiler</span></a></li><li>  <a href="std_complex.html" title="std.complex"><span class="d_inlinecode donthyphenate notranslate">complex</span></a></li><li>  <a href="std_concurrency.html" title="std.concurrency"><span class="d_inlinecode donthyphenate notranslate">concurrency</span></a></li><li>  <a href="std_concurrencybase.html" title="std.concurrencybase"><span class="d_inlinecode donthyphenate notranslate">concurrencybase</span></a></li><li>  <a href="std_container.html" title="std.container"><span class="d_inlinecode donthyphenate notranslate">container</span></a><ul><li>    <a href="std_container_array.html" title="std.container.array"><span class="d_inlinecode donthyphenate notranslate">array</span></a></li><li>    <a href="std_container_binaryheap.html" title="std.container.binaryheap"><span class="d_inlinecode donthyphenate notranslate">binaryheap</span></a></li><li>    <a href="std_container_dlist.html" title="std.container.dlist"><span class="d_inlinecode donthyphenate notranslate">dlist</span></a></li><li>    <a href="std_container_rbtree.html" title="std.container.rbtree"><span class="d_inlinecode donthyphenate notranslate">rbtree</span></a></li><li>    <a href="std_container_slist.html" title="std.container.slist"><span class="d_inlinecode donthyphenate notranslate">slist</span></a></li><li>    <a href="std_container_util.html" title="std.container.util"><span class="d_inlinecode donthyphenate notranslate">util</span></a>
  </li></ul></li><li>  <a href="std_conv.html" title="std.conv"><span class="d_inlinecode donthyphenate notranslate">conv</span></a></li><li>  <a href="std_csv.html" title="std.csv"><span class="d_inlinecode donthyphenate notranslate">csv</span></a></li><li>  <a href="std_datetime.html" title="std.datetime"><span class="d_inlinecode donthyphenate notranslate">datetime</span></a></li><li>  <a href="std_demangle.html" title="std.demangle"><span class="d_inlinecode donthyphenate notranslate">demangle</span></a></li><li>  <h7><span class="d_inlinecode donthyphenate notranslate">digest</span></h7><ul><li>    <a href="std_digest_crc.html" title="std.digest.crc"><span class="d_inlinecode donthyphenate notranslate">crc</span></a></li><li>    <a href="std_digest_digest.html" title="std.digest.digest"><span class="d_inlinecode donthyphenate notranslate">digest</span></a></li><li>    <a href="std_digest_hmac.html" title="std.digest.hmac"><span class="d_inlinecode donthyphenate notranslate">hmac</span></a></li><li>    <a href="std_digest_md.html" title="std.digest.md"><span class="d_inlinecode donthyphenate notranslate">md</span></a></li><li>    <a href="std_digest_ripemd.html" title="std.digest.ripemd"><span class="d_inlinecode donthyphenate notranslate">ripemd</span></a></li><li>    <a href="std_digest_sha.html" title="std.digest.sha"><span class="d_inlinecode donthyphenate notranslate">sha</span></a>
  </li></ul></li><li>  <a href="std_encoding.html" title="std.encoding"><span class="d_inlinecode donthyphenate notranslate">encoding</span></a></li><li>  <a href="std_exception.html" title="std.exception"><span class="d_inlinecode donthyphenate notranslate">exception</span></a></li><li>  <h7><span class="d_inlinecode donthyphenate notranslate">experimental</span></h7><ul><li>    <a href="std_experimental_allocator.html" title="std.experimental.allocator"><span class="d_inlinecode donthyphenate notranslate">allocator</span></a><ul><li>      <a href="std_experimental_allocator_building_blocks.html" title="std.experimental.allocator.building_blocks"><span class="d_inlinecode donthyphenate notranslate">building_blocks</span></a><ul><li>        <a href="std_experimental_allocator_building_blocks_affix_allocator.html" title="std.experimental.allocator.building_blocks.affix_allocator"><span class="d_inlinecode donthyphenate notranslate">affix_allocator</span></a></li><li>        <a href="std_experimental_allocator_building_blocks_allocator_list.html" title="std.experimental.allocator.building_blocks.allocator_list"><span class="d_inlinecode donthyphenate notranslate">allocator_list</span></a></li><li>        <a href="std_experimental_allocator_building_blocks_bitmapped_block.html" title="std.experimental.allocator.building_blocks.bitmapped_block"><span class="d_inlinecode donthyphenate notranslate">bitmapped_block</span></a></li><li>        <a href="std_experimental_allocator_building_blocks_bucketizer.html" title="std.experimental.allocator.building_blocks.bucketizer"><span class="d_inlinecode donthyphenate notranslate">bucketizer</span></a></li><li>        <a href="std_experimental_allocator_building_blocks_fallback_allocator.html" title="std.experimental.allocator.building_blocks.fallback_allocator"><span class="d_inlinecode donthyphenate notranslate">fallback_allocator</span></a></li><li>        <a href="std_experimental_allocator_building_blocks_free_list.html" title="std.experimental.allocator.building_blocks.free_list"><span class="d_inlinecode donthyphenate notranslate">free_list</span></a></li><li>        <a href="std_experimental_allocator_building_blocks_free_tree.html" title="std.experimental.allocator.building_blocks.free_tree"><span class="d_inlinecode donthyphenate notranslate">free_tree</span></a></li><li>        <a href="std_experimental_allocator_building_blocks_kernighan_ritchie.html" title="std.experimental.allocator.building_blocks.kernighan_ritchie"><span class="d_inlinecode donthyphenate notranslate">kernighan_ritchie</span></a></li><li>        <a href="std_experimental_allocator_building_blocks_null_allocator.html" title="std.experimental.allocator.building_blocks.null_allocator"><span class="d_inlinecode donthyphenate notranslate">null_allocator</span></a></li><li>        <a href="std_experimental_allocator_building_blocks_quantizer.html" title="std.experimental.allocator.building_blocks.quantizer"><span class="d_inlinecode donthyphenate notranslate">quantizer</span></a></li><li>        <a href="std_experimental_allocator_building_blocks_region.html" title="std.experimental.allocator.building_blocks.region"><span class="d_inlinecode donthyphenate notranslate">region</span></a></li><li>        <a href="std_experimental_allocator_building_blocks_scoped_allocator.html" title="std.experimental.allocator.building_blocks.scoped_allocator"><span class="d_inlinecode donthyphenate notranslate">scoped_allocator</span></a></li><li>        <a href="std_experimental_allocator_building_blocks_segregator.html" title="std.experimental.allocator.building_blocks.segregator"><span class="d_inlinecode donthyphenate notranslate">segregator</span></a></li><li>        <a href="std_experimental_allocator_building_blocks_stats_collector.html" title="std.experimental.allocator.building_blocks.stats_collector"><span class="d_inlinecode donthyphenate notranslate">stats_collector</span></a>
      </li></ul></li><li>      <a href="std_experimental_allocator_common.html" title="std.experimental.allocator.common"><span class="d_inlinecode donthyphenate notranslate">common</span></a></li><li>      <a href="std_experimental_allocator_gc_allocator.html" title="std.experimental.allocator.gc_allocator"><span class="d_inlinecode donthyphenate notranslate">gc_allocator</span></a></li><li>      <a href="std_experimental_allocator_mallocator.html" title="std.experimental.allocator.mallocator"><span class="d_inlinecode donthyphenate notranslate">mallocator</span></a></li><li>      <a href="std_experimental_allocator_mmap_allocator.html" title="std.experimental.allocator.mmap_allocator"><span class="d_inlinecode donthyphenate notranslate">mmap_allocator</span></a></li><li>      <a href="std_experimental_allocator_showcase.html" title="std.experimental.allocator.showcase"><span class="d_inlinecode donthyphenate notranslate">showcase</span></a></li><li>      <a href="std_experimental_allocator_typed.html" title="std.experimental.allocator.typed"><span class="d_inlinecode donthyphenate notranslate">typed</span></a>
    </li></ul></li><li>    <a href="std_experimental_logger.html" title="std.experimental.logger"><span class="d_inlinecode donthyphenate notranslate">logger</span></a><ul><li>      <a href="std_experimental_logger_core.html" title="std.experimental.logger.core"><span class="d_inlinecode donthyphenate notranslate">core</span></a></li><li>      <a href="std_experimental_logger_filelogger.html" title="std.experimental.logger.filelogger"><span class="d_inlinecode donthyphenate notranslate">filelogger</span></a></li><li>      <a href="std_experimental_logger_multilogger.html" title="std.experimental.logger.multilogger"><span class="d_inlinecode donthyphenate notranslate">multilogger</span></a></li><li>      <a href="std_experimental_logger_nulllogger.html" title="std.experimental.logger.nulllogger"><span class="d_inlinecode donthyphenate notranslate">nulllogger</span></a>
    </li></ul></li><li>    <a href="std_experimental_ndslice.html" title="std.experimental.ndslice"><span class="d_inlinecode donthyphenate notranslate">ndslice</span></a><ul><li>      <a href="std_experimental_ndslice_iteration.html" title="std.experimental.ndslice.iteration"><span class="d_inlinecode donthyphenate notranslate">iteration</span></a></li><li>      <a href="std_experimental_ndslice_selection.html" title="std.experimental.ndslice.selection"><span class="d_inlinecode donthyphenate notranslate">selection</span></a></li><li>      <a href="std_experimental_ndslice_slice.html" title="std.experimental.ndslice.slice"><span class="d_inlinecode donthyphenate notranslate">slice</span></a>
    </li></ul>
  </li></ul></li><li>  <a href="std_file.html" title="std.file"><span class="d_inlinecode donthyphenate notranslate">file</span></a></li><li>  <a href="std_format.html" title="std.format"><span class="d_inlinecode donthyphenate notranslate">format</span></a></li><li>  <a href="std_functional.html" title="std.functional"><span class="d_inlinecode donthyphenate notranslate">functional</span></a></li><li>  <a href="std_getopt.html" title="std.getopt"><span class="d_inlinecode donthyphenate notranslate">getopt</span></a></li><li>  <a href="std_json.html" title="std.json"><span class="d_inlinecode donthyphenate notranslate">json</span></a></li><li>  <a href="std_math.html" title="std.math"><span class="d_inlinecode donthyphenate notranslate">math</span></a></li><li>  <a href="std_mathspecial.html" title="std.mathspecial"><span class="d_inlinecode donthyphenate notranslate">mathspecial</span></a></li><li>  <a href="std_meta.html" title="std.meta"><span class="d_inlinecode donthyphenate notranslate">meta</span></a></li><li>  <a href="std_mmfile.html" title="std.mmfile"><span class="d_inlinecode donthyphenate notranslate">mmfile</span></a></li><li>  <h7><span class="d_inlinecode donthyphenate notranslate">net</span></h7><ul><li>    <a href="std_net_curl.html" title="std.net.curl"><span class="d_inlinecode donthyphenate notranslate">curl</span></a></li><li>    <a href="std_net_isemail.html" title="std.net.isemail"><span class="d_inlinecode donthyphenate notranslate">isemail</span></a>
  </li></ul></li><li>  <a href="std_numeric.html" title="std.numeric"><span class="d_inlinecode donthyphenate notranslate">numeric</span></a></li><li>  <a href="std_outbuffer.html" title="std.outbuffer"><span class="d_inlinecode donthyphenate notranslate">outbuffer</span></a></li><li>  <a href="std_parallelism.html" title="std.parallelism"><span class="d_inlinecode donthyphenate notranslate">parallelism</span></a></li><li>  <a href="std_path.html" title="std.path"><span class="d_inlinecode donthyphenate notranslate">path</span></a></li><li>  <a href="std_process.html" title="std.process"><span class="d_inlinecode donthyphenate notranslate">process</span></a></li><li>  <a href="std_random.html" title="std.random"><span class="d_inlinecode donthyphenate notranslate">random</span></a></li><li>  <a href="std_range.html" title="std.range"><span class="d_inlinecode donthyphenate notranslate">range</span></a><ul><li>    <a href="std_range_interfaces.html" title="std.range.interfaces"><span class="d_inlinecode donthyphenate notranslate">interfaces</span></a></li><li>    <a href="std_range_primitives.html" title="std.range.primitives"><span class="d_inlinecode donthyphenate notranslate">primitives</span></a>
  </li></ul></li><li>  <a href="std_regex.html" title="std.regex"><span class="d_inlinecode donthyphenate notranslate">regex</span></a></li><li>  <a href="std_signals.html" title="std.signals"><span class="d_inlinecode donthyphenate notranslate">signals</span></a></li><li>  <a href="std_socket.html" title="std.socket"><span class="d_inlinecode donthyphenate notranslate">socket</span></a></li><li>  <a href="std_stdint.html" title="std.stdint"><span class="d_inlinecode donthyphenate notranslate">stdint</span></a></li><li>  <a href="std_stdio.html" title="std.stdio"><span class="d_inlinecode donthyphenate notranslate">stdio</span></a></li><li>  <a href="std_stdiobase.html" title="std.stdiobase"><span class="d_inlinecode donthyphenate notranslate">stdiobase</span></a></li><li>  <a href="std_string.html" title="std.string"><span class="d_inlinecode donthyphenate notranslate">string</span></a></li><li>  <a href="std_system.html" title="std.system"><span class="d_inlinecode donthyphenate notranslate">system</span></a></li><li>  <a href="std_traits.html" title="std.traits"><span class="d_inlinecode donthyphenate notranslate">traits</span></a></li><li>  <a href="std_typecons.html" title="std.typecons"><span class="d_inlinecode donthyphenate notranslate">typecons</span></a></li><li>  <a href="std_typetuple.html" title="std.typetuple"><span class="d_inlinecode donthyphenate notranslate">typetuple</span></a></li><li>  <a href="std_uni.html" title="std.uni"><span class="d_inlinecode donthyphenate notranslate">uni</span></a></li><li>  <a href="std_uri.html" title="std.uri"><span class="d_inlinecode donthyphenate notranslate">uri</span></a></li><li>  <a href="std_utf.html" title="std.utf"><span class="d_inlinecode donthyphenate notranslate">utf</span></a></li><li>  <a href="std_uuid.html" title="std.uuid"><span class="d_inlinecode donthyphenate notranslate">uuid</span></a></li><li>  <a href="std_variant.html" title="std.variant"><span class="d_inlinecode donthyphenate notranslate">variant</span></a></li><li>  <h7><span class="d_inlinecode donthyphenate notranslate">windows</span></h7><ul><li>    <a href="std_windows_charset.html" title="std.windows.charset"><span class="d_inlinecode donthyphenate notranslate">charset</span></a></li><li>    <a href="std_windows_syserror.html" title="std.windows.syserror"><span class="d_inlinecode donthyphenate notranslate">syserror</span></a>
  </li></ul></li><li>  <a href="std_xml.html" title="std.xml"><span class="d_inlinecode donthyphenate notranslate">xml</span></a></li><li>  <a href="std_zip.html" title="std.zip"><span class="d_inlinecode donthyphenate notranslate">zip</span></a></li><li>  <a href="std_zlib.html" title="std.zlib"><span class="d_inlinecode donthyphenate notranslate">zlib</span></a>
</li></ul>
</li>

<li class='expand-container'><a class='expand-toggle' href='#'><span><em class="tt">etc</em></span></a>
<ul><li>  <h7><span class="d_inlinecode donthyphenate notranslate">c</span></h7><ul><li>    <a href="etc_c_curl.html" title="etc.c.curl"><span class="d_inlinecode donthyphenate notranslate">curl</span></a></li><li>    <h7><span class="d_inlinecode donthyphenate notranslate">odbc</span></h7><ul><li>      <a href="etc_c_odbc_sql.html" title="etc.c.odbc.sql"><span class="d_inlinecode donthyphenate notranslate">sql</span></a></li><li>      <a href="etc_c_odbc_sqlext.html" title="etc.c.odbc.sqlext"><span class="d_inlinecode donthyphenate notranslate">sqlext</span></a></li><li>      <a href="etc_c_odbc_sqltypes.html" title="etc.c.odbc.sqltypes"><span class="d_inlinecode donthyphenate notranslate">sqltypes</span></a></li><li>      <a href="etc_c_odbc_sqlucode.html" title="etc.c.odbc.sqlucode"><span class="d_inlinecode donthyphenate notranslate">sqlucode</span></a>
    </li></ul></li><li>    <a href="etc_c_sqlite3.html" title="etc.c.sqlite3"><span class="d_inlinecode donthyphenate notranslate">sqlite3</span></a></li><li>    <a href="etc_c_zlib.html" title="etc.c.zlib"><span class="d_inlinecode donthyphenate notranslate">zlib</span></a>
  </li></ul>
</li></ul>
</li>

<li class='expand-container'><a class='expand-toggle' href='#'><span><em class="tt">core</em></span></a>
<ul><li>  <a href="core_atomic.html" title="core.atomic"><span class="d_inlinecode donthyphenate notranslate">atomic</span></a></li><li>  <a href="core_attribute.html" title="core.attribute"><span class="d_inlinecode donthyphenate notranslate">attribute</span></a></li><li>  <a href="core_bitop.html" title="core.bitop"><span class="d_inlinecode donthyphenate notranslate">bitop</span></a></li><li>  <a href="core_checkedint.html" title="core.checkedint"><span class="d_inlinecode donthyphenate notranslate">checkedint</span></a></li><li>  <a href="core_cpuid.html" title="core.cpuid"><span class="d_inlinecode donthyphenate notranslate">cpuid</span></a></li><li>  <a href="core_demangle.html" title="core.demangle"><span class="d_inlinecode donthyphenate notranslate">demangle</span></a></li><li>  <a href="core_exception.html" title="core.exception"><span class="d_inlinecode donthyphenate notranslate">exception</span></a></li><li>  <a href="core_math.html" title="core.math"><span class="d_inlinecode donthyphenate notranslate">math</span></a></li><li>  <a href="core_memory.html" title="core.memory"><span class="d_inlinecode donthyphenate notranslate">memory</span></a></li><li>  <a href="core_runtime.html" title="core.runtime"><span class="d_inlinecode donthyphenate notranslate">runtime</span></a></li><li>  <a href="core_simd.html" title="core.simd"><span class="d_inlinecode donthyphenate notranslate">simd</span></a></li><li>  <h7><span class="d_inlinecode donthyphenate notranslate">stdc</span></h7><ul><li>    <a href="core_stdc_complex.html" title="core.stdc.complex"><span class="d_inlinecode donthyphenate notranslate">complex</span></a></li><li>    <a href="core_stdc_ctype.html" title="core.stdc.ctype"><span class="d_inlinecode donthyphenate notranslate">ctype</span></a></li><li>    <a href="core_stdc_errno.html" title="core.stdc.errno"><span class="d_inlinecode donthyphenate notranslate">errno</span></a></li><li>    <a href="core_stdc_fenv.html" title="core.stdc.fenv"><span class="d_inlinecode donthyphenate notranslate">fenv</span></a></li><li>    <a href="core_stdc_float_.html" title="core.stdc.float_"><span class="d_inlinecode donthyphenate notranslate">float_</span></a></li><li>    <a href="core_stdc_inttypes.html" title="core.stdc.inttypes"><span class="d_inlinecode donthyphenate notranslate">inttypes</span></a></li><li>    <a href="core_stdc_limits.html" title="core.stdc.limits"><span class="d_inlinecode donthyphenate notranslate">limits</span></a></li><li>    <a href="core_stdc_locale.html" title="core.stdc.locale"><span class="d_inlinecode donthyphenate notranslate">locale</span></a></li><li>    <a href="core_stdc_math.html" title="core.stdc.math"><span class="d_inlinecode donthyphenate notranslate">math</span></a></li><li>    <a href="core_stdc_signal.html" title="core.stdc.signal"><span class="d_inlinecode donthyphenate notranslate">signal</span></a></li><li>    <a href="core_stdc_stdarg.html" title="core.stdc.stdarg"><span class="d_inlinecode donthyphenate notranslate">stdarg</span></a></li><li>    <a href="core_stdc_stddef.html" title="core.stdc.stddef"><span class="d_inlinecode donthyphenate notranslate">stddef</span></a></li><li>    <a href="core_stdc_stdint.html" title="core.stdc.stdint"><span class="d_inlinecode donthyphenate notranslate">stdint</span></a></li><li>    <a href="core_stdc_stdio.html" title="core.stdc.stdio"><span class="d_inlinecode donthyphenate notranslate">stdio</span></a></li><li>    <a href="core_stdc_stdlib.html" title="core.stdc.stdlib"><span class="d_inlinecode donthyphenate notranslate">stdlib</span></a></li><li>    <a href="core_stdc_string.html" title="core.stdc.string"><span class="d_inlinecode donthyphenate notranslate">string</span></a></li><li>    <a href="core_stdc_tgmath.html" title="core.stdc.tgmath"><span class="d_inlinecode donthyphenate notranslate">tgmath</span></a></li><li>    <a href="core_stdc_time.html" title="core.stdc.time"><span class="d_inlinecode donthyphenate notranslate">time</span></a></li><li>    <a href="core_stdc_wchar_.html" title="core.stdc.wchar_"><span class="d_inlinecode donthyphenate notranslate">wchar_</span></a></li><li>    <a href="core_stdc_wctype.html" title="core.stdc.wctype"><span class="d_inlinecode donthyphenate notranslate">wctype</span></a>
  </li></ul></li><li>  <h7><span class="d_inlinecode donthyphenate notranslate">stdcpp</span></h7><ul><li>    <a href="core_stdcpp_exception.html" title="core.stdcpp.exception"><span class="d_inlinecode donthyphenate notranslate">exception</span></a></li><li>    <a href="core_stdcpp_typeinfo.html" title="core.stdcpp.typeinfo"><span class="d_inlinecode donthyphenate notranslate">typeinfo</span></a>
  </li></ul></li><li>  <h7><span class="d_inlinecode donthyphenate notranslate">sync</span></h7><ul><li>    <a href="core_sync_barrier.html" title="core.sync.barrier"><span class="d_inlinecode donthyphenate notranslate">barrier</span></a></li><li>    <a href="core_sync_condition.html" title="core.sync.condition"><span class="d_inlinecode donthyphenate notranslate">condition</span></a></li><li>    <a href="core_sync_config.html" title="core.sync.config"><span class="d_inlinecode donthyphenate notranslate">config</span></a></li><li>    <a href="core_sync_exception.html" title="core.sync.exception"><span class="d_inlinecode donthyphenate notranslate">exception</span></a></li><li>    <a href="core_sync_mutex.html" title="core.sync.mutex"><span class="d_inlinecode donthyphenate notranslate">mutex</span></a></li><li>    <a href="core_sync_rwmutex.html" title="core.sync.rwmutex"><span class="d_inlinecode donthyphenate notranslate">rwmutex</span></a></li><li>    <a href="core_sync_semaphore.html" title="core.sync.semaphore"><span class="d_inlinecode donthyphenate notranslate">semaphore</span></a>
  </li></ul></li><li>  <a href="core_thread.html" title="core.thread"><span class="d_inlinecode donthyphenate notranslate">thread</span></a></li><li>  <a href="core_time.html" title="core.time"><span class="d_inlinecode donthyphenate notranslate">time</span></a></li><li>  <a href="core_vararg.html" title="core.vararg"><span class="d_inlinecode donthyphenate notranslate">vararg</span></a>
</li></ul>
</li></ul>
</div>
    <div class="hyphenate" id="content">        
<div id="tools"><div >	<div class="tip smallprint">		<a href="https://issues.dlang.org/enter_bug.cgi?bug_file_loc=http%3A%2F%2Fdlang.org/phobos/&amp;bug_severity=enhancement&amp;component=phobos&amp;op_sys=All&amp;priority=P3&amp;product=D&amp;rep_platform=All&amp;short_desc=%5Bstd.algorithm.iteration%5D&amp;version=D2">Report a bug</a>
		<div >			If you spot a problem with this page, click here to create a Bugzilla issue.
		</div>
	</div>
	<div class="tip smallprint">		<a href="https://github.com/D-Programming-Language/phobos/edit/master/std/algorithm/iteration.d">Improve this page</a>
		<div >			Quickly fork, edit online, and submit a pull request for this page.
			Requires a signed-in GitHub account. This works well for small changes.
			If you'd like to make larger changes you may want to consider using
			a local clone.
		</div>
	</div>
</div></div>
        <h1><span class="d_inlinecode donthyphenate notranslate">std.algorithm.iteration</span></h1>
        <div class="quickindex" id="quickindex"></div>
        <div class="summary">This is a submodule of <a href="std_algorithm.html">std.algorithm</a>.
It contains generic iteration algorithms.
</div>
<div class="description"><table class="book"><caption>Cheat Sheet</caption><p></p>

<tr><th scope="col">Function Name</th> <th scope="col">Description</th></tr>
<p></p>

<tr><td class="donthyphenate nobr"><a href="#cache"><span class="d_inlinecode donthyphenate notranslate">cache</span></a></td> <td>        Eagerly evaluates and caches another range's <span class="d_inlinecode donthyphenate notranslate">front</span>.</td></tr>
<tr><td class="donthyphenate nobr"><a href="#cacheBidirectional"><span class="d_inlinecode donthyphenate notranslate">cacheBidirectional</span></a></td> <td>        As above, but also provides <span class="d_inlinecode donthyphenate notranslate">back</span> and <span class="d_inlinecode donthyphenate notranslate">popBack</span>.</td></tr>
<tr><td class="donthyphenate nobr"><a href="#chunkBy"><span class="d_inlinecode donthyphenate notranslate">chunkBy</span></a></td> <td>        <span class="d_inlinecode donthyphenate notranslate">chunkBy!((a,b) =&gt; a[1] == b[1])([[1, 1], [1, 2], [2, 2], [2, 1]])</span>
        returns a range containing 3 subranges: the first with just
        <span class="d_inlinecode donthyphenate notranslate">[1, 1]</span>; the second with the elements <span class="d_inlinecode donthyphenate notranslate">[1, 2]</span> and <span class="d_inlinecode donthyphenate notranslate">[2, 2]</span>;
        and the third with just <span class="d_inlinecode donthyphenate notranslate">[2, 1]</span>.</td></tr>
<tr><td class="donthyphenate nobr"><a href="#each"><span class="d_inlinecode donthyphenate notranslate">each</span></a></td> <td>        <span class="d_inlinecode donthyphenate notranslate">each!writeln([1, 2, 3])</span> eagerly prints the numbers <span class="d_inlinecode donthyphenate notranslate">1</span>, <span class="d_inlinecode donthyphenate notranslate">2</span>
        and <span class="d_inlinecode donthyphenate notranslate">3</span> on their own lines.</td></tr>
<tr><td class="donthyphenate nobr"><a href="#filter"><span class="d_inlinecode donthyphenate notranslate">filter</span></a></td> <td>        <span class="d_inlinecode donthyphenate notranslate">filter!(a =&gt; a &gt; 0)([1, -1, 2, 0, -3])</span> iterates over elements <span class="d_inlinecode donthyphenate notranslate">1</span>
        and <span class="d_inlinecode donthyphenate notranslate">2</span>.</td></tr>
<tr><td class="donthyphenate nobr"><a href="#filterBidirectional"><span class="d_inlinecode donthyphenate notranslate">filterBidirectional</span></a></td> <td>        Similar to <span class="d_inlinecode donthyphenate notranslate">filter</span>, but also provides <span class="d_inlinecode donthyphenate notranslate">back</span> and <span class="d_inlinecode donthyphenate notranslate">popBack</span> at
        a small increase in cost.</td></tr>
<tr><td class="donthyphenate nobr"><a href="#fold"><span class="d_inlinecode donthyphenate notranslate">fold</span></a></td> <td>        <span class="d_inlinecode donthyphenate notranslate">fold!((a, b) =&gt; a + b)([1, 2, 3, 4])</span> returns <span class="d_inlinecode donthyphenate notranslate">10</span>.</td></tr>
<tr><td class="donthyphenate nobr"><a href="#group"><span class="d_inlinecode donthyphenate notranslate">group</span></a></td> <td>        <span class="d_inlinecode donthyphenate notranslate">group([5, 2, 2, 3, 3])</span> returns a range containing the tuples
        <span class="d_inlinecode donthyphenate notranslate">tuple(5, 1)</span>, <span class="d_inlinecode donthyphenate notranslate">tuple(2, 2)</span>, and <span class="d_inlinecode donthyphenate notranslate">tuple(3, 2)</span>.</td></tr>
<tr><td class="donthyphenate nobr"><a href="#joiner"><span class="d_inlinecode donthyphenate notranslate">joiner</span></a></td> <td>        <span class="d_inlinecode donthyphenate notranslate">joiner(["hello", "world!"], "; ")</span> returns a range that iterates
        over the characters <span class="d_inlinecode donthyphenate notranslate">"hello; world!"</span>. No new string is created -
        the existing inputs are iterated.</td></tr>
<tr><td class="donthyphenate nobr"><a href="#map"><span class="d_inlinecode donthyphenate notranslate">map</span></a></td> <td>        <span class="d_inlinecode donthyphenate notranslate">map!(a =&gt; a * 2)([1, 2, 3])</span> lazily returns a range with the numbers
        <span class="d_inlinecode donthyphenate notranslate">2</span>, <span class="d_inlinecode donthyphenate notranslate">4</span>, <span class="d_inlinecode donthyphenate notranslate">6</span>.</td></tr>
<tr><td class="donthyphenate nobr"><a href="#permutations"><span class="d_inlinecode donthyphenate notranslate">permutations</span></a></td> <td>        Lazily computes all permutations using Heap's algorithm.</td></tr>
<tr><td class="donthyphenate nobr"><a href="#reduce"><span class="d_inlinecode donthyphenate notranslate">reduce</span></a></td> <td>        <span class="d_inlinecode donthyphenate notranslate">reduce!((a, b) =&gt; a + b)([1, 2, 3, 4])</span> returns <span class="d_inlinecode donthyphenate notranslate">10</span>.
        This is the old implementation of <span class="d_inlinecode donthyphenate notranslate">fold</span>.</td></tr>
<tr><td class="donthyphenate nobr"><a href="#splitter"><span class="d_inlinecode donthyphenate notranslate">splitter</span></a></td> <td>        Lazily splits a range by a separator.</td></tr>
<tr><td class="donthyphenate nobr"><a href="#sum"><span class="d_inlinecode donthyphenate notranslate">sum</span></a></td> <td>        Same as <span class="d_inlinecode donthyphenate notranslate">fold</span>, but specialized for accurate summation.</td></tr>
<tr><td class="donthyphenate nobr"><a href="#uniq"><span class="d_inlinecode donthyphenate notranslate">uniq</span></a></td> <td>        Iterates over the unique elements in a range, which is assumed sorted.</td></tr>
</table>

</div>
<div class="keyval License"><span class="key keyLicense">License:</span> <div class="val valLicense"><a href="http://boost.org/LICENSE_1_0.txt">Boost License 1.0</a>.

</div></div>
<div class="keyval Authors"><span class="key keyAuthors">Authors:</span> <div class="val valAuthors"><a href="http://erdani.com">Andrei Alexandrescu</a>

</div></div>
<div class="val"><p class="keyval Section"><span class="key keySection">Source:</span>
<span class="phobos_src"><a class="https" href="https://github.com/D-Programming-Language/phobos/blob/master/std/algorithm/iteration.d">std/algorithm/iteration.d</a></span>

</p></div>

<dl><dt class="d_decl"><div ><a name=".cache"></a><div class="quickindex" id="quickindex.cache"></div>auto <a name="cache"></a><span class="ddoc_psymbol">cache</span><span class="template_param_list" title="Template parameter list">(Range)</span>(Range <i>range</i>)<br><span class="constraint">if (isInputRange!Range)</span>;
<br><br><a name=".cacheBidirectional"></a><div class="quickindex" id="quickindex.cacheBidirectional"></div>auto <a name="cacheBidirectional"></a><span class="ddoc_psymbol">cacheBidirectional</span><span class="template_param_list" title="Template parameter list">(Range)</span>(Range <i>range</i>)<br><span class="constraint">if (isBidirectionalRange!Range)</span>;
<br></div></dt>
<dd><div class="summary"><span class="d_inlinecode donthyphenate notranslate"><a name="cache"></a><span class="ddoc_psymbol">cache</span></span> eagerly evaluates <span class="d_inlinecode donthyphenate notranslate">front</span> of <span class="d_inlinecode donthyphenate notranslate"><i>range</i></span>
on each construction or call to <span class="d_inlinecode donthyphenate notranslate">popFront</span>,
to store the result in a <a name="cache"></a><span class="ddoc_psymbol">cache</span>.
The result is then directly returned when <span class="d_inlinecode donthyphenate notranslate">front</span> is called,
rather than re-evaluated.
</div>
<div class="description">This can be a useful function to place in a chain, after functions
that have expensive evaluation, as a lazy alternative to <span class="libref"><a href="http://dlang.org/phobos/std_array.html#array"><span class="d_inlinecode donthyphenate notranslate">std.array.array</span></a></span>.
In particular, it can be placed after a call to <span class="d_inlinecode donthyphenate notranslate">map</span>, or before a call
to <span class="d_inlinecode donthyphenate notranslate">filter</span>.
<p></p>

<span class="d_inlinecode donthyphenate notranslate"><a name="cache"></a><span class="ddoc_psymbol">cache</span></span> may provide bidirectional iteration if needed, but since
this comes at an increased cost, it must be explicitly requested via the
call to <span class="d_inlinecode donthyphenate notranslate"><a name="cacheBidirectional"></a><span class="ddoc_psymbol">cacheBidirectional</span></span>. Furthermore, a bidirectional <a name="cache"></a><span class="ddoc_psymbol">cache</span> will
evaluate the "center" element twice, when there is only one element left in
the <i>range</i>.
<p></p>

<span class="d_inlinecode donthyphenate notranslate"><a name="cache"></a><span class="ddoc_psymbol">cache</span></span> does not provide random access primitives,
as <span class="d_inlinecode donthyphenate notranslate"><a name="cache"></a><span class="ddoc_psymbol">cache</span></span> would be unable to <a name="cache"></a><span class="ddoc_psymbol">cache</span> the random accesses.
If <span class="d_inlinecode donthyphenate notranslate">Range</span> provides slicing primitives,
then <span class="d_inlinecode donthyphenate notranslate"><a name="cache"></a><span class="ddoc_psymbol">cache</span></span> will provide the same slicing primitives,
but <span class="d_inlinecode donthyphenate notranslate">hasSlicing!Cache</span> will not yield <b>true</b> (as the <span class="libref"><a href="http://dlang.org/phobos/std_range_primitives.html#hasSlicing"><span class="d_inlinecode donthyphenate notranslate">std.range.primitives.hasSlicing</span></a></span>
trait also checks for random access).

</div>
<div class="keyval Parameters"><span class="key keyParameters">Parameters:</span> <div class="val valParameters"><table class="params"><tr class="param"><td class="param_id">Range <i>range</i></td>
<td class="param_desc">an input <i>range</i></td></tr>
</table></div></div>
<div class="keyval Returns"><span class="key keyReturns">Returns:</span> <div class="val valReturns">an input <i>range</i> with the cached values of <i>range</i></div></div>
<div class="keyval Examples"><span class="key keyExamples">Examples:</span> <div class="val valExamples"><pre class="d_code notranslate">
<span class="d_keyword">import</span> std.algorithm.comparison : equal;
<span class="d_keyword">import</span> std.stdio, std.<span class="d_param">range</span>;
<span class="d_keyword">import</span> std.typecons : tuple;

<span class="d_keyword">ulong</span> counter = 0;
<span class="d_keyword">double</span> fun(<span class="d_keyword">int</span> x)
{
    ++counter;
    <span class="d_comment">// http://en.wikipedia.org/wiki/Quartic_function
</span>    <span class="d_keyword">return</span> ( (x + 4.0) * (x + 1.0) * (x - 1.0) * (x - 3.0) ) / 14.0 + 0.5;
}
<span class="d_comment">// Without cache, with array (greedy)
</span><span class="d_keyword">auto</span> result1 = iota(-4, 5).map!(a =&gt;tuple(a, fun(a)))()
                         .filter!(a =&gt; a[1] &lt; 0)()
                         .map!(a =&gt; a[0])()
                         .array();

<span class="d_comment">// the values of x that have a negative y are:
</span><span class="d_keyword">assert</span>(equal(result1, [-3, -2, 2]));

<span class="d_comment">// Check how many times fun was evaluated.
</span><span class="d_comment">// As many times as the number of items in both source and result.
</span><span class="d_keyword">assert</span>(counter == iota(-4, 5).length + result1.length);

counter = 0;
<span class="d_comment">// Without array, with cache (lazy)
</span><span class="d_keyword">auto</span> result2 = iota(-4, 5).map!(a =&gt;tuple(a, fun(a)))()
                         .<span class="d_psymbol">cache</span>()
                         .filter!(a =&gt; a[1] &lt; 0)()
                         .map!(a =&gt; a[0])();

<span class="d_comment">// the values of x that have a negative y are:
</span><span class="d_keyword">assert</span>(equal(result2, [-3, -2, 2]));

<span class="d_comment">// Check how many times fun was evaluated.
</span><span class="d_comment">// Only as many times as the number of items in source.
</span><span class="d_keyword">assert</span>(counter == iota(-4, 5).length);
</pre>
</div></div><div class="keyval Examples"><span class="key keyExamples">Examples:</span> <div class="val valExamples">Tip: <span class="d_inlinecode donthyphenate notranslate"><a name="cache"></a><span class="ddoc_psymbol">cache</span></span> is eager when evaluating elements. If calling front on the
underlying range has a side effect, it will be observeable before calling
front on the actual cached range.
<p></p>

Furthermore, care should be taken composing <span class="d_inlinecode donthyphenate notranslate"><a name="cache"></a><span class="ddoc_psymbol">cache</span></span> with <span class="libref"><a href="http://dlang.org/phobos/std_range.html#take"><span class="d_inlinecode donthyphenate notranslate">std.range.take</span></a></span>.
By placing <span class="d_inlinecode donthyphenate notranslate">take</span> before <span class="d_inlinecode donthyphenate notranslate"><a name="cache"></a><span class="ddoc_psymbol">cache</span></span>, then <span class="d_inlinecode donthyphenate notranslate"><a name="cache"></a><span class="ddoc_psymbol">cache</span></span> will be "aware"
of when the range ends, and correctly stop caching elements when needed.
If calling front has no side effect though, placing <span class="d_inlinecode donthyphenate notranslate">take</span> after <span class="d_inlinecode donthyphenate notranslate"><a name="cache"></a><span class="ddoc_psymbol">cache</span></span>
may yield a faster range.
<p></p>

Either way, the resulting ranges will be equivalent, but maybe not at the
same cost or side effects.
<pre class="d_code notranslate">
<span class="d_keyword">import</span> std.algorithm.comparison : equal;
<span class="d_keyword">import</span> std.<span class="d_param">range</span>;
<span class="d_keyword">int</span> i = 0;

<span class="d_keyword">auto</span> r = iota(0, 4).tee!((a){i = a;}, No.pipeOnPop);
<span class="d_keyword">auto</span> r1 = r.take(3).<span class="d_psymbol">cache</span>();
<span class="d_keyword">auto</span> r2 = r.<span class="d_psymbol">cache</span>().take(3);

<span class="d_keyword">assert</span>(equal(r1, [0, 1, 2]));
<span class="d_keyword">assert</span>(i == 2); <span class="d_comment">//The last "seen" element was 2. The data in cache has been cleared.
</span>
<span class="d_keyword">assert</span>(equal(r2, [0, 1, 2]));
<span class="d_keyword">assert</span>(i == 3); <span class="d_comment">//cache has accessed 3. It is still stored internally by cache.
</span></pre>
</div></div>
</dd>
<dt class="d_decl"><div ><a name=".map"></a><div class="quickindex" id="quickindex.map"></div>template <a name="map"></a><span class="ddoc_psymbol">map</span>(fun...) if (fun.length &gt;= 1)<br></div></dt>
<dd><div class="summary"><span class="d_inlinecode donthyphenate notranslate">auto <a name="map"></a><span class="ddoc_psymbol">map</span>(Range)(Range r) if (isInputRange!(Unqual!Range));</span>
</div>
<div class="description">Implements the homonym function (also known as <span class="d_inlinecode donthyphenate notranslate">transform</span>) present
in many languages of functional flavor. The call <span class="d_inlinecode donthyphenate notranslate"><a name="map"></a><span class="ddoc_psymbol">map</span>!(fun)(range)</span>
returns a range of which elements are obtained by applying <span class="d_inlinecode donthyphenate notranslate">fun(a)</span>
left to right for all elements <span class="d_inlinecode donthyphenate notranslate">a</span> in <span class="d_inlinecode donthyphenate notranslate">range</span>. The original ranges are
not changed. Evaluation is done lazily.

</div>
<div class="keyval Parameters"><span class="key keyParameters">Parameters:</span> <div class="val valParameters"><table class="params"><tr class="param"><td class="param_id">fun</td>
<td class="param_desc">one or more functions</td></tr>
<tr class="param"><td class="param_id">r</td>
<td class="param_desc">an input range</td></tr>
</table></div></div>
<div class="keyval Returns"><span class="key keyReturns">Returns:</span> <div class="val valReturns">a range with each fun applied to all the elements. If there is more than one
    fun, the element type will be <span class="d_inlinecode donthyphenate notranslate">Tuple</span> containing one element for each fun.

</div></div>
<div class="keyval SeeAlso"><span class="key keySeeAlso">See Also:</span> <div class="val valSeeAlso"><a href="http://en.wikipedia.org/wiki/Map_(higher-order_function)">Map (higher-order function)</a></div></div>
<div class="keyval Examples"><span class="key keyExamples">Examples:</span> <div class="val valExamples"><pre class="d_code notranslate">
<span class="d_keyword">import</span> std.algorithm.comparison : equal;
<span class="d_keyword">import</span> std.range : chain;
<span class="d_keyword">int</span>[] arr1 = [ 1, 2, 3, 4 ];
<span class="d_keyword">int</span>[] arr2 = [ 5, 6 ];
<span class="d_keyword">auto</span> squares = <span class="d_psymbol">map</span>!(a =&gt; a * a)(chain(arr1, arr2));
<span class="d_keyword">assert</span>(equal(squares, [ 1, 4, 9, 16, 25, 36 ]));
</pre>
</div></div><div class="keyval Examples"><span class="key keyExamples">Examples:</span> <div class="val valExamples">Multiple functions can be passed to <span class="d_inlinecode donthyphenate notranslate"><a name="map"></a><span class="ddoc_psymbol">map</span></span>. In that case, the
element type of <span class="d_inlinecode donthyphenate notranslate"><a name="map"></a><span class="ddoc_psymbol">map</span></span> is a tuple containing one element for each
function.
<pre class="d_code notranslate">
<span class="d_keyword">auto</span> sums = [2, 4, 6, 8];
<span class="d_keyword">auto</span> products = [1, 4, 9, 16];

size_t i = 0;
<span class="d_keyword">foreach</span> (result; [ 1, 2, 3, 4 ].<span class="d_psymbol">map</span>!(<span class="d_string">"a + a"</span>, <span class="d_string">"a * a"</span>))
{
    <span class="d_keyword">assert</span>(result[0] == sums[i]);
    <span class="d_keyword">assert</span>(result[1] == products[i]);
    ++i;
}
</pre>
</div></div><div class="keyval Examples"><span class="key keyExamples">Examples:</span> <div class="val valExamples">You may alias <span class="d_inlinecode donthyphenate notranslate"><a name="map"></a><span class="ddoc_psymbol">map</span></span> with some function(s) to a symbol and use
it separately:
<pre class="d_code notranslate">
<span class="d_keyword">import</span> std.algorithm.comparison : equal;
<span class="d_keyword">import</span> std.conv : to;

<span class="d_keyword">alias</span> stringize = <span class="d_psymbol">map</span>!(to!string);
<span class="d_keyword">assert</span>(equal(stringize([ 1, 2, 3, 4 ]), [ <span class="d_string">"1"</span>, <span class="d_string">"2"</span>, <span class="d_string">"3"</span>, <span class="d_string">"4"</span> ]));
</pre>
</div></div>
</dd>
<dt class="d_decl"><div ><a name=".each"></a><div class="quickindex" id="quickindex.each"></div>template <a name="each"></a><span class="ddoc_psymbol">each</span>(alias pred = "a")<br></div></dt>
<dd><div class="summary">Eagerly iterates over <span class="d_inlinecode donthyphenate notranslate">r</span> and calls <span class="d_inlinecode donthyphenate notranslate">pred</span> over each element.
</div>
<div class="description">If no predicate is specified, <span class="d_inlinecode donthyphenate notranslate"><a name="each"></a><span class="ddoc_psymbol">each</span></span> will default to doing nothing
but consuming the entire range. <span class="d_inlinecode donthyphenate notranslate">.front</span> will be evaluated, but this
can be avoided by explicitly specifying a predicate lambda with a
<span class="d_inlinecode donthyphenate notranslate">lazy</span> parameter.
<p></p>

<span class="d_inlinecode donthyphenate notranslate"><a name="each"></a><span class="ddoc_psymbol">each</span></span> also supports <span class="d_inlinecode donthyphenate notranslate">opApply</span>-based iterators, so it will work
with e.g. <span class="libref"><a href="http://dlang.org/phobos/std_parallelism.html#parallel"><span class="d_inlinecode donthyphenate notranslate">std.parallelism.parallel</span></a></span>.

</div>
<div class="keyval Parameters"><span class="key keyParameters">Parameters:</span> <div class="val valParameters"><table class="params"><tr class="param"><td class="param_id">pred</td>
<td class="param_desc">predicate to apply to <a name="each"></a><span class="ddoc_psymbol">each</span> element of the range</td></tr>
<tr class="param"><td class="param_id">r</td>
<td class="param_desc">range or iterable over which <a name="each"></a><span class="ddoc_psymbol">each</span> iterates</td></tr>
</table></div></div>
<div class="keyval SeeAlso"><span class="key keySeeAlso">See Also:</span> <div class="val valSeeAlso"><span class="libref"><a href="http://dlang.org/phobos/std_range.html#tee"><span class="d_inlinecode donthyphenate notranslate">std.range.tee</span></a></span></div></div>
<div class="keyval Examples"><span class="key keyExamples">Examples:</span> <div class="val valExamples"><pre class="d_code notranslate">
<span class="d_keyword">import</span> std.range : iota;

<span class="d_keyword">long</span>[] arr;
iota(5).<span class="d_psymbol">each</span>!(n =&gt; arr ~= n);
<span class="d_keyword">assert</span>(arr == [0, 1, 2, 3, 4]);

<span class="d_comment">// If the range supports it, the value can be mutated in place
</span>arr.<span class="d_psymbol">each</span>!((<span class="d_keyword">ref</span> n) =&gt; n++);
<span class="d_keyword">assert</span>(arr == [1, 2, 3, 4, 5]);

arr.<span class="d_psymbol">each</span>!<span class="d_string">"a++"</span>;
<span class="d_keyword">assert</span>(arr == [2, 3, 4, 5, 6]);

<span class="d_comment">// by-ref lambdas are not allowed for non-ref ranges
</span><span class="d_keyword">static</span> <span class="d_keyword">assert</span>(!<span class="d_keyword">is</span>(<span class="d_keyword">typeof</span>(arr.map!(n =&gt; n).<span class="d_psymbol">each</span>!((<span class="d_keyword">ref</span> n) =&gt; n++))));

<span class="d_comment">// The default predicate consumes the range
</span><span class="d_keyword">auto</span> m = arr.map!(n =&gt; n);
(&amp;m).<span class="d_psymbol">each</span>();
<span class="d_keyword">assert</span>(m.empty);

<span class="d_comment">// Indexes are also available for in-place mutations
</span>arr[] = 0;
arr.<span class="d_psymbol">each</span>!<span class="d_string">"a=i"</span>();
<span class="d_keyword">assert</span>(arr == [0, 1, 2, 3, 4]);

<span class="d_comment">// opApply iterators work as well
</span><span class="d_keyword">static</span> <span class="d_keyword">assert</span>(<span class="d_keyword">is</span>(<span class="d_keyword">typeof</span>({
    <span class="d_keyword">import</span> std.parallelism;
    arr.parallel.<span class="d_psymbol">each</span>!<span class="d_string">"a++"</span>;
})));
</pre>
</div></div>
</dd>
<dt class="d_decl"><div ><a name=".filter"></a><div class="quickindex" id="quickindex.filter"></div>template <a name="filter"></a><span class="ddoc_psymbol">filter</span>(alias predicate) if (is(typeof(unaryFun!predicate)))<br></div></dt>
<dd><div class="summary"><span class="d_inlinecode donthyphenate notranslate">auto <a name="filter"></a><span class="ddoc_psymbol">filter</span>(Range)(Range rs) if (isInputRange!(Unqual!Range));</span>
</div>
<div class="description">Implements the higher order filter function. The predicate is passed to
<span class="libref"><a href="http://dlang.org/phobos/std_functional.html#unaryFun"><span class="d_inlinecode donthyphenate notranslate">std.functional.unaryFun</span></a></span>, and can either accept a string, or any callable
that can be executed via <span class="d_inlinecode donthyphenate notranslate">pred(element)</span>.

</div>
<div class="keyval Parameters"><span class="key keyParameters">Parameters:</span> <div class="val valParameters"><table class="params"><tr class="param"><td class="param_id">predicate</td>
<td class="param_desc">Function to apply to each element of range</td></tr>
<tr class="param"><td class="param_id">range</td>
<td class="param_desc">Input range of elements</td></tr>
</table></div></div>
<div class="keyval Returns"><span class="key keyReturns">Returns:</span> <div class="val valReturns"><span class="d_inlinecode donthyphenate notranslate"><a name="filter"></a><span class="ddoc_psymbol">filter</span>!(predicate)(range)</span> returns a new range containing only elements <span class="d_inlinecode donthyphenate notranslate">x</span> in <span class="d_inlinecode donthyphenate notranslate">range</span> for
    which <span class="d_inlinecode donthyphenate notranslate">predicate(x)</span> returns <span class="d_inlinecode donthyphenate notranslate"><b>true</b></span>.

</div></div>
<div class="keyval SeeAlso"><span class="key keySeeAlso">See Also:</span> <div class="val valSeeAlso"><a href="http://en.wikipedia.org/wiki/Filter_(higher-order_function)">Filter (higher-order function)</a></div></div>
<div class="keyval Examples"><span class="key keyExamples">Examples:</span> <div class="val valExamples"><pre class="d_code notranslate">
<span class="d_keyword">import</span> std.algorithm.comparison : equal;
<span class="d_keyword">import</span> std.math : approxEqual;
<span class="d_keyword">import</span> std.range;

<span class="d_keyword">int</span>[] arr = [ 1, 2, 3, 4, 5 ];

<span class="d_comment">// Sum all elements
</span><span class="d_keyword">auto</span> small = <span class="d_psymbol">filter</span>!(a =&gt; a &lt; 3)(arr);
<span class="d_keyword">assert</span>(equal(small, [ 1, 2 ]));

<span class="d_comment">// Sum again, but with Uniform Function Call Syntax (UFCS)
</span><span class="d_keyword">auto</span> sum = arr.<span class="d_psymbol">filter</span>!(a =&gt; a &lt; 3);
<span class="d_keyword">assert</span>(equal(sum, [ 1, 2 ]));

<span class="d_comment">// In combination with chain() to span multiple ranges
</span><span class="d_keyword">int</span>[] a = [ 3, -2, 400 ];
<span class="d_keyword">int</span>[] b = [ 100, -101, 102 ];
<span class="d_keyword">auto</span> r = chain(a, b).<span class="d_psymbol">filter</span>!(a =&gt; a &gt; 0);
<span class="d_keyword">assert</span>(equal(r, [ 3, 400, 100, 102 ]));

<span class="d_comment">// Mixing convertible types is fair game, too
</span><span class="d_keyword">double</span>[] c = [ 2.5, 3.0 ];
<span class="d_keyword">auto</span> r1 = chain(c, a, b).<span class="d_psymbol">filter</span>!(a =&gt; <span class="d_keyword">cast</span>(<span class="d_keyword">int</span>) a != a);
<span class="d_keyword">assert</span>(approxEqual(r1, [ 2.5 ]));
</pre>
</div></div>
</dd>
<dt class="d_decl"><div ><a name=".filterBidirectional"></a><div class="quickindex" id="quickindex.filterBidirectional"></div>template <a name="filterBidirectional"></a><span class="ddoc_psymbol">filterBidirectional</span>(alias pred)<br></div></dt>
<dd><div class="summary"><span class="d_inlinecode donthyphenate notranslate">auto <a name="filterBidirectional"></a><span class="ddoc_psymbol">filterBidirectional</span>(Range)(Range r) if (isBidirectionalRange!(Unqual!Range));</span>
</div>
<div class="description">Similar to <span class="d_inlinecode donthyphenate notranslate">filter</span>, except it defines a bidirectional
 range. There is a speed disadvantage - the constructor spends time
 finding the last element in the range that satisfies the filtering
 condition (in addition to finding the first one). The advantage is
 that the filtered range can be spanned from both directions. Also,
 <span class="libref"><a href="http://dlang.org/phobos/std_range.html#retro"><span class="d_inlinecode donthyphenate notranslate">std.range.retro</span></a></span> can be applied against the filtered range.
<p></p>

 The predicate is passed to <span class="libref"><a href="http://dlang.org/phobos/std_functional.html#unaryFun"><span class="d_inlinecode donthyphenate notranslate">std.functional.unaryFun</span></a></span>, and can either
 accept a string, or any callable that can be executed via <span class="d_inlinecode donthyphenate notranslate">pred(element)</span>.

</div>
<div class="keyval Parameters"><span class="key keyParameters">Parameters:</span> <div class="val valParameters"><table class="params"><tr class="param"><td class="param_id">pred</td>
<td class="param_desc">Function to apply to each element of range</td></tr>
<tr class="param"><td class="param_id">r</td>
<td class="param_desc">Bidirectional range of elements</td></tr>
</table></div></div>
<div class="keyval Returns"><span class="key keyReturns">Returns:</span> <div class="val valReturns">a new range containing only the elements in r for which pred returns <span class="d_inlinecode donthyphenate notranslate"><b>true</b></span>.</div></div>
<div class="keyval Examples"><span class="key keyExamples">Examples:</span> <div class="val valExamples"><pre class="d_code notranslate">
<span class="d_keyword">import</span> std.algorithm.comparison : equal;
<span class="d_keyword">import</span> std.range;

<span class="d_keyword">int</span>[] arr = [ 1, 2, 3, 4, 5 ];
<span class="d_keyword">auto</span> small = <span class="d_psymbol">filterBidirectional</span>!(<span class="d_string">"a &lt; 3"</span>)(arr);
<span class="d_keyword">static</span> <span class="d_keyword">assert</span>(isBidirectionalRange!(<span class="d_keyword">typeof</span>(small)));
<span class="d_keyword">assert</span>(small.back == 2);
<span class="d_keyword">assert</span>(equal(small, [ 1, 2 ]));
<span class="d_keyword">assert</span>(equal(retro(small), [ 2, 1 ]));
<span class="d_comment">// In combination with chain() to span multiple ranges
</span><span class="d_keyword">int</span>[] a = [ 3, -2, 400 ];
<span class="d_keyword">int</span>[] b = [ 100, -101, 102 ];
<span class="d_keyword">auto</span> r = <span class="d_psymbol">filterBidirectional</span>!(<span class="d_string">"a &gt; 0"</span>)(chain(a, b));
<span class="d_keyword">assert</span>(r.back == 102);
</pre>
</div></div>
</dd>
<dt class="d_decl"><div ><a name=".group"></a><div class="quickindex" id="quickindex.group"></div>Group!(pred, Range) <a name="group"></a><span class="ddoc_psymbol">group</span><span class="template_param_list" title="Template parameter list">(alias pred = "a == b", Range)</span>(Range <i>r</i>);
<br></div></dt>
<dd><div class="summary">Groups consecutively equivalent elements into a single tuple of the element and
the number of its repetitions.
</div>
<div class="description">Similarly to <span class="d_inlinecode donthyphenate notranslate">uniq</span>, <span class="d_inlinecode donthyphenate notranslate"><a name="group"></a><span class="ddoc_psymbol">group</span></span> produces a range that iterates over unique
consecutive elements of the given range. Each element of this range is a tuple
of the element and the number of times it is repeated in the original range.
Equivalence of elements is assessed by using the predicate <span class="d_inlinecode donthyphenate notranslate">pred</span>, which
defaults to <span class="d_inlinecode donthyphenate notranslate">"a == b"</span>.  The predicate is passed to <span class="libref"><a href="http://dlang.org/phobos/std_functional.html#binaryFun"><span class="d_inlinecode donthyphenate notranslate">std.functional.binaryFun</span></a></span>,
and can either accept a string, or any callable that can be executed via
<span class="d_inlinecode donthyphenate notranslate">pred(element, element)</span>.

</div>
<div class="keyval Parameters"><span class="key keyParameters">Parameters:</span> <div class="val valParameters"><table class="params"><tr class="param"><td class="param_id">pred</td>
<td class="param_desc">Binary predicate for determining equivalence of two elements.</td></tr>
<tr class="param"><td class="param_id">Range <i>r</i></td>
<td class="param_desc">The <span class="libref"><a href="http://dlang.org/phobos/std_range_primitives.html#isInputRange">input range</a></span> to
        iterate over.</td></tr>
</table></div></div>
<div class="keyval Returns"><span class="key keyReturns">Returns:</span> <div class="val valReturns">A range of elements of type <span class="d_inlinecode donthyphenate notranslate">Tuple!(ElementType!R, uint)</span>,
representing each consecutively unique element and its respective number of
occurrences in that run.  This will be an input range if <span class="d_inlinecode donthyphenate notranslate">R</span> is an input
range, and a forward range in all other cases.</div></div>
<div class="keyval Examples"><span class="key keyExamples">Examples:</span> <div class="val valExamples"><pre class="d_code notranslate">
<span class="d_keyword">import</span> std.algorithm.comparison : equal;
<span class="d_keyword">import</span> std.typecons : tuple, Tuple;

<span class="d_keyword">int</span>[] arr = [ 1, 2, 2, 2, 2, 3, 4, 4, 4, 5 ];
<span class="d_keyword">assert</span>(equal(<span class="d_psymbol">group</span>(arr), [ tuple(1, 1u), tuple(2, 4u), tuple(3, 1u),
    tuple(4, 3u), tuple(5, 1u) ][]));
</pre>
</div></div>
</dd>
<dt class="d_decl"><div ><a name=".chunkBy"></a><div class="quickindex" id="quickindex.chunkBy"></div>auto <a name="chunkBy"></a><span class="ddoc_psymbol">chunkBy</span><span class="template_param_list" title="Template parameter list">(alias pred, Range)</span>(Range <i>r</i>)<br><span class="constraint">if (isInputRange!Range)</span>;
<br></div></dt>
<dd><div class="summary">Chunks an input range into subranges of equivalent adjacent elements.
</div>
<div class="description">Equivalence is defined by the predicate <span class="d_inlinecode donthyphenate notranslate">pred</span>, which can be either
 binary, which is passed to <span class="libref"><a href="http://dlang.org/phobos/std_functional.html#binaryFun"><span class="d_inlinecode donthyphenate notranslate">std.functional.binaryFun</span></a></span>, or unary, which is
 passed to <span class="libref"><a href="http://dlang.org/phobos/std_functional.html#unaryFun"><span class="d_inlinecode donthyphenate notranslate">std.functional.unaryFun</span></a></span>. In the binary form, two range elements
 <span class="d_inlinecode donthyphenate notranslate">a</span> and <span class="d_inlinecode donthyphenate notranslate">b</span> are considered equivalent if <span class="d_inlinecode donthyphenate notranslate">pred(a,b)</span> is <b>true</b>. In
 unary form, two elements are considered equivalent if <span class="d_inlinecode donthyphenate notranslate">pred(a) == pred(b)</span>
 is <b>true</b>.
<p></p>

 This predicate must be an equivalence relation, that is, it must be
 reflexive (<span class="d_inlinecode donthyphenate notranslate">pred(x,x)</span> is always <b>true</b>), symmetric
 (<span class="d_inlinecode donthyphenate notranslate">pred(x,y) == pred(y,x)</span>), and transitive (<span class="d_inlinecode donthyphenate notranslate">pred(x,y) &amp;&amp; pred(y,z)</span>
 implies <span class="d_inlinecode donthyphenate notranslate">pred(x,z)</span>). If this is not the case, the range returned by
 <a name="chunkBy"></a><span class="ddoc_psymbol">chunkBy</span> may assert at runtime or behave erratically.

</div>
<div class="keyval Parameters"><span class="key keyParameters">Parameters:</span> <div class="val valParameters"><table class="params"><tr class="param"><td class="param_id">pred</td>
<td class="param_desc">Predicate for determining equivalence.</td></tr>
<tr class="param"><td class="param_id">Range <i>r</i></td>
<td class="param_desc">The range to be chunked.</td></tr>
</table></div></div>
<div class="keyval Returns"><span class="key keyReturns">Returns:</span> <div class="val valReturns">With a binary predicate, a range of ranges is returned in which
 all elements in a given subrange are equivalent under the given predicate.
 With a unary predicate, a range of tuples is returned, with the tuple
 consisting of the result of the unary predicate for each subrange, and the
 subrange itself.

</div></div>
<div class="val"><p class="keyval Section"><span class="key keySection">Notes:</span>
Equivalent elements separated by an intervening non-equivalent element will
 appear in separate subranges; this function only considers adjacent
 equivalence. Elements in the subranges will always appear in the same order
 they appear in the original range.

</p></div>
<div class="keyval SeeAlso"><span class="key keySeeAlso">See Also:</span> <div class="val valSeeAlso"><a href="#group"><span class="d_inlinecode donthyphenate notranslate">group</span></a>, which collapses adjacent equivalent elements into a single
 element.</div></div>
<div class="keyval Examples"><span class="key keyExamples">Examples:</span> <div class="val valExamples">Showing usage with binary predicate:
<pre class="d_code notranslate">
<span class="d_keyword">import</span> std.algorithm.comparison : equal;

<span class="d_comment">// Grouping by particular attribute of each element:
</span><span class="d_keyword">auto</span> data = [
    [1, 1],
    [1, 2],
    [2, 2],
    [2, 3]
];

<span class="d_keyword">auto</span> r1 = data.<span class="d_psymbol">chunkBy</span>!((a,b) =&gt; a[0] == b[0]);
<span class="d_keyword">assert</span>(r1.equal!equal([
    [[1, 1], [1, 2]],
    [[2, 2], [2, 3]]
]));

<span class="d_keyword">auto</span> r2 = data.<span class="d_psymbol">chunkBy</span>!((a,b) =&gt; a[1] == b[1]);
<span class="d_keyword">assert</span>(r2.equal!equal([
    [[1, 1]],
    [[1, 2], [2, 2]],
    [[2, 3]]
]));
</pre>
</div></div><div class="keyval Examples"><span class="key keyExamples">Examples:</span> <div class="val valExamples">Showing usage with unary predicate:
<pre class="d_code notranslate">
<span class="d_keyword">import</span> std.algorithm.comparison : equal;
<span class="d_keyword">import</span> std.typecons : tuple;

<span class="d_comment">// Grouping by particular attribute of each element:
</span><span class="d_keyword">auto</span> range =
[
    [1, 1],
    [1, 1],
    [1, 2],
    [2, 2],
    [2, 3],
    [2, 3],
    [3, 3]
];

<span class="d_keyword">auto</span> byX = <span class="d_psymbol">chunkBy</span>!(a =&gt; a[0])(range);
<span class="d_keyword">auto</span> expected1 =
[
    tuple(1, [[1, 1], [1, 1], [1, 2]]),
    tuple(2, [[2, 2], [2, 3], [2, 3]]),
    tuple(3, [[3, 3]])
];
<span class="d_keyword">foreach</span> (e; byX)
{
    <span class="d_keyword">assert</span>(!expected1.empty);
    <span class="d_keyword">assert</span>(e[0] == expected1.front[0]);
    <span class="d_keyword">assert</span>(e[1].equal(expected1.front[1]));
    expected1.popFront();
}

<span class="d_keyword">auto</span> byY = <span class="d_psymbol">chunkBy</span>!(a =&gt; a[1])(range);
<span class="d_keyword">auto</span> expected2 =
[
    tuple(1, [[1, 1], [1, 1]]),
    tuple(2, [[1, 2], [2, 2]]),
    tuple(3, [[2, 3], [2, 3], [3, 3]])
];
<span class="d_keyword">foreach</span> (e; byY)
{
    <span class="d_keyword">assert</span>(!expected2.empty);
    <span class="d_keyword">assert</span>(e[0] == expected2.front[0]);
    <span class="d_keyword">assert</span>(e[1].equal(expected2.front[1]));
    expected2.popFront();
}
</pre>
</div></div>
</dd>
<dt class="d_decl"><div ><a name=".joiner"></a><div class="quickindex" id="quickindex.joiner"></div>auto <a name="joiner"></a><span class="ddoc_psymbol">joiner</span><span class="template_param_list" title="Template parameter list">(RoR, Separator)</span>(RoR <i>r</i>, Separator <i>sep</i>)<br><span class="constraint">if (isInputRange!RoR &amp;&amp; isInputRange!(ElementType!RoR) &amp;&amp; isForwardRange!Separator &amp;&amp; is(ElementType!Separator : ElementType!(ElementType!RoR)))</span>;
<br><br>auto <a name="joiner"></a><span class="ddoc_psymbol">joiner</span><span class="template_param_list" title="Template parameter list">(RoR)</span>(RoR <i>r</i>)<br><span class="constraint">if (isInputRange!RoR &amp;&amp; isInputRange!(ElementType!RoR))</span>;
<br></div></dt>
<dd><div class="summary">Lazily joins a range of ranges with a separator. The separator itself
is a range. If a separator is not provided, then the ranges are
joined directly without anything in between them (often called <span class="d_inlinecode donthyphenate notranslate">flatten</span>
in other languages).
</div>
<div class="keyval Parameters"><span class="key keyParameters">Parameters:</span> <div class="val valParameters"><table class="params"><tr class="param"><td class="param_id">RoR <i>r</i></td>
<td class="param_desc">An <span class="libref"><a href="http://dlang.org/phobos/std_range_primitives.html#isInputRange">input range</a></span> of input
        ranges to be joined.</td></tr>
<tr class="param"><td class="param_id">Separator <i>sep</i></td>
<td class="param_desc">A <span class="libref"><a href="http://dlang.org/phobos/std_range_primitives.html#isForwardRange">forward range</a></span> of
        element(s) to serve as separators in the joined range.</td></tr>
</table></div></div>
<div class="keyval Returns"><span class="key keyReturns">Returns:</span> <div class="val valReturns">A range of elements in the joined range. This will be a forward range if
both outer and inner ranges of <span class="d_inlinecode donthyphenate notranslate">RoR</span> are forward ranges; otherwise it will
be only an input range.

</div></div>
<div class="keyval SeeAlso"><span class="key keySeeAlso">See Also:</span> <div class="val valSeeAlso"><span class="libref"><a href="http://dlang.org/phobos/std_range.html#chain"><span class="d_inlinecode donthyphenate notranslate">std.range.chain</span></a></span>, which chains a sequence of ranges with compatible elements
into a single range.</div></div>
<div class="keyval Examples"><span class="key keyExamples">Examples:</span> <div class="val valExamples"><pre class="d_code notranslate">
<span class="d_keyword">import</span> std.algorithm.comparison : equal;
<span class="d_keyword">import</span> std.conv : text;

<span class="d_keyword">debug</span>(std_algorithm) <span class="d_keyword">scope</span>(success)
    writeln(<span class="d_string">"unittest @"</span>, <span class="d_keyword">__FILE__</span>, <span class="d_string">":"</span>, <span class="d_keyword">__LINE__</span>, <span class="d_string">" done."</span>);

<span class="d_keyword">static</span> <span class="d_keyword">assert</span>(isInputRange!(<span class="d_keyword">typeof</span>(<span class="d_psymbol">joiner</span>([<span class="d_string">""</span>], <span class="d_string">""</span>))));
<span class="d_keyword">static</span> <span class="d_keyword">assert</span>(isForwardRange!(<span class="d_keyword">typeof</span>(<span class="d_psymbol">joiner</span>([<span class="d_string">""</span>], <span class="d_string">""</span>))));
<span class="d_keyword">assert</span>(equal(<span class="d_psymbol">joiner</span>([<span class="d_string">""</span>], <span class="d_string">"xyz"</span>), <span class="d_string">""</span>), text(<span class="d_psymbol">joiner</span>([<span class="d_string">""</span>], <span class="d_string">"xyz"</span>)));
<span class="d_keyword">assert</span>(equal(<span class="d_psymbol">joiner</span>([<span class="d_string">""</span>, <span class="d_string">""</span>], <span class="d_string">"xyz"</span>), <span class="d_string">"xyz"</span>), text(<span class="d_psymbol">joiner</span>([<span class="d_string">""</span>, <span class="d_string">""</span>], <span class="d_string">"xyz"</span>)));
<span class="d_keyword">assert</span>(equal(<span class="d_psymbol">joiner</span>([<span class="d_string">""</span>, <span class="d_string">"abc"</span>], <span class="d_string">"xyz"</span>), <span class="d_string">"xyzabc"</span>));
<span class="d_keyword">assert</span>(equal(<span class="d_psymbol">joiner</span>([<span class="d_string">"abc"</span>, <span class="d_string">""</span>], <span class="d_string">"xyz"</span>), <span class="d_string">"abcxyz"</span>));
<span class="d_keyword">assert</span>(equal(<span class="d_psymbol">joiner</span>([<span class="d_string">"abc"</span>, <span class="d_string">"def"</span>], <span class="d_string">"xyz"</span>), <span class="d_string">"abcxyzdef"</span>));
<span class="d_keyword">assert</span>(equal(<span class="d_psymbol">joiner</span>([<span class="d_string">"Mary"</span>, <span class="d_string">"has"</span>, <span class="d_string">"a"</span>, <span class="d_string">"little"</span>, <span class="d_string">"lamb"</span>], <span class="d_string">"..."</span>),
                <span class="d_string">"Mary...has...a...little...lamb"</span>));
<span class="d_keyword">assert</span>(equal(<span class="d_psymbol">joiner</span>([<span class="d_string">"abc"</span>, <span class="d_string">"def"</span>]), <span class="d_string">"abcdef"</span>));
</pre>
</div></div>
</dd>
<dt class="d_decl"><div ><a name=".reduce"></a><div class="quickindex" id="quickindex.reduce"></div>template <a name="reduce"></a><span class="ddoc_psymbol">reduce</span>(fun...) if (fun.length &gt;= 1)<br></div></dt>
<dd><div class="summary">Implements the homonym function (also known as <span class="d_inlinecode donthyphenate notranslate">accumulate</span>, <span class="d_inlinecode donthyphenate notranslate">compress</span>, <span class="d_inlinecode donthyphenate notranslate">inject</span>, or <span class="d_inlinecode donthyphenate notranslate">foldl</span>) present in various programming
languages of functional flavor. There is also <a href="#fold"><span class="d_inlinecode donthyphenate notranslate">fold</span></a> which does
the same thing but with the opposite parameter order.
The call <span class="d_inlinecode donthyphenate notranslate"><a name="reduce"></a><span class="ddoc_psymbol">reduce</span>!(fun)(seed, range)</span> first assigns <span class="d_inlinecode donthyphenate notranslate">seed</span> to
an internal variable <span class="d_inlinecode donthyphenate notranslate">result</span>, also called the accumulator.
Then, for each element <span class="d_inlinecode donthyphenate notranslate">x</span> in <span class="d_inlinecode donthyphenate notranslate">range</span>, <span class="d_inlinecode donthyphenate notranslate">result = fun(result, x)</span>
gets evaluated. Finally, <span class="d_inlinecode donthyphenate notranslate">result</span> is returned.
The one-argument version <span class="d_inlinecode donthyphenate notranslate"><a name="reduce"></a><span class="ddoc_psymbol">reduce</span>!(fun)(range)</span>
works similarly, but it uses the first element of the range as the
seed (the range must be non-empty).
</div>
<div class="keyval Returns"><span class="key keyReturns">Returns:</span> <div class="val valReturns">the accumulated <span class="d_inlinecode donthyphenate notranslate">result</span>

</div></div>
<div class="keyval SeeAlso"><span class="key keySeeAlso">See Also:</span> <div class="val valSeeAlso"><a href="http://en.wikipedia.org/wiki/Fold_(higher-order_function)">Fold (higher-order function)</a>
<p></p>

    <a href="#fold"><span class="d_inlinecode donthyphenate notranslate">fold</span></a> is functionally equivalent to <a href="#<a name="reduce"></a><span class="ddoc_psymbol">reduce</span>"><span class="d_inlinecode donthyphenate notranslate"><a name="reduce"></a><span class="ddoc_psymbol">reduce</span></span></a> with the argument order reversed,
    and without the need to use <a href="#tuple"><span class="d_inlinecode donthyphenate notranslate">tuple</span></a> for multiple seeds. This makes it easier
    to use in UFCS chains.
<p></p>

    <a href="#sum"><span class="d_inlinecode donthyphenate notranslate">sum</span></a> is similar to <span class="d_inlinecode donthyphenate notranslate"><a name="reduce"></a><span class="ddoc_psymbol">reduce</span>!((a, b) =&gt; a + b)</span> that offers
    precise summing of floating point numbers.</div></div>
<div class="keyval Examples"><span class="key keyExamples">Examples:</span> <div class="val valExamples">Many aggregate range operations turn out to be solved with <span class="d_inlinecode donthyphenate notranslate"><a name="reduce"></a><span class="ddoc_psymbol">reduce</span></span>
quickly and easily. The example below illustrates <span class="d_inlinecode donthyphenate notranslate"><a name="reduce"></a><span class="ddoc_psymbol">reduce</span></span>'s
remarkable power and flexibility.
<pre class="d_code notranslate">
<span class="d_keyword">import</span> std.algorithm.comparison : max, min;
<span class="d_keyword">import</span> std.math : approxEqual;
<span class="d_keyword">import</span> std.range;

<span class="d_keyword">int</span>[] arr = [ 1, 2, 3, 4, 5 ];
<span class="d_comment">// Sum all elements
</span><span class="d_keyword">auto</span> sum = <span class="d_psymbol">reduce</span>!((a,b) =&gt; a + b)(0, arr);
<span class="d_keyword">assert</span>(sum == 15);

<span class="d_comment">// Sum again, using a string predicate with "a" and "b"
</span>sum = <span class="d_psymbol">reduce</span>!<span class="d_string">"a + b"</span>(0, arr);
<span class="d_keyword">assert</span>(sum == 15);

<span class="d_comment">// Compute the maximum of all elements
</span><span class="d_keyword">auto</span> largest = <span class="d_psymbol">reduce</span>!(max)(arr);
<span class="d_keyword">assert</span>(largest == 5);

<span class="d_comment">// Max again, but with Uniform Function Call Syntax (UFCS)
</span>largest = arr.<span class="d_psymbol">reduce</span>!(max);
<span class="d_keyword">assert</span>(largest == 5);

<span class="d_comment">// Compute the number of odd elements
</span><span class="d_keyword">auto</span> odds = <span class="d_psymbol">reduce</span>!((a,b) =&gt; a + (b &amp; 1))(0, arr);
<span class="d_keyword">assert</span>(odds == 3);

<span class="d_comment">// Compute the sum of squares
</span><span class="d_keyword">auto</span> ssquares = <span class="d_psymbol">reduce</span>!((a,b) =&gt; a + b * b)(0, arr);
<span class="d_keyword">assert</span>(ssquares == 55);

<span class="d_comment">// Chain multiple ranges into seed
</span><span class="d_keyword">int</span>[] a = [ 3, 4 ];
<span class="d_keyword">int</span>[] b = [ 100 ];
<span class="d_keyword">auto</span> r = <span class="d_psymbol">reduce</span>!(<span class="d_string">"a + b"</span>)(chain(a, b));
<span class="d_keyword">assert</span>(r == 107);

<span class="d_comment">// Mixing convertible types is fair game, too
</span><span class="d_keyword">double</span>[] c = [ 2.5, 3.0 ];
<span class="d_keyword">auto</span> r1 = <span class="d_psymbol">reduce</span>!(<span class="d_string">"a + b"</span>)(chain(a, b, c));
<span class="d_keyword">assert</span>(approxEqual(r1, 112.5));

<span class="d_comment">// To minimize nesting of parentheses, Uniform Function Call Syntax can be used
</span><span class="d_keyword">auto</span> r2 = chain(a, b, c).<span class="d_psymbol">reduce</span>!(<span class="d_string">"a + b"</span>);
<span class="d_keyword">assert</span>(approxEqual(r2, 112.5));
</pre>
</div></div><div class="keyval Examples"><span class="key keyExamples">Examples:</span> <div class="val valExamples">Sometimes it is very useful to compute multiple aggregates in one pass.
One advantage is that the computation is faster because the looping overhead
is shared. That's why <span class="d_inlinecode donthyphenate notranslate"><a name="reduce"></a><span class="ddoc_psymbol">reduce</span></span> accepts multiple functions.
If two or more functions are passed, <span class="d_inlinecode donthyphenate notranslate"><a name="reduce"></a><span class="ddoc_psymbol">reduce</span></span> returns a
<span class="libref"><a href="http://dlang.org/phobos/std_typecons.html#Tuple"><span class="d_inlinecode donthyphenate notranslate">std.typecons.Tuple</span></a></span> object with one member per passed-in function.
The number of seeds must be correspondingly increased.
<pre class="d_code notranslate">
<span class="d_keyword">import</span> std.algorithm.comparison : max, min;
<span class="d_keyword">import</span> std.math : approxEqual, sqrt;
<span class="d_keyword">import</span> std.typecons : tuple, Tuple;

<span class="d_keyword">double</span>[] a = [ 3.0, 4, 7, 11, 3, 2, 5 ];
<span class="d_comment">// Compute minimum and maximum in one pass
</span><span class="d_keyword">auto</span> r = <span class="d_psymbol">reduce</span>!(min, max)(a);
<span class="d_comment">// The type of r is Tuple!(int, int)
</span><span class="d_keyword">assert</span>(approxEqual(r[0], 2));  <span class="d_comment">// minimum
</span><span class="d_keyword">assert</span>(approxEqual(r[1], 11)); <span class="d_comment">// maximum
</span>
<span class="d_comment">// Compute sum and sum of squares in one pass
</span>r = <span class="d_psymbol">reduce</span>!(<span class="d_string">"a + b"</span>, <span class="d_string">"a + b * b"</span>)(tuple(0.0, 0.0), a);
<span class="d_keyword">assert</span>(approxEqual(r[0], 35));  <span class="d_comment">// sum
</span><span class="d_keyword">assert</span>(approxEqual(r[1], 233)); <span class="d_comment">// sum of squares
</span><span class="d_comment">// Compute average and standard deviation from the above
</span><span class="d_keyword">auto</span> avg = r[0] / a.length;
<span class="d_keyword">auto</span> stdev = sqrt(r[1] / a.length - avg * avg);
</pre>
</div></div>
<dl><dt class="d_decl"><div ><a name=".reduce.reduce"></a><div class="quickindex" id="quickindex.reduce.reduce"></div>auto <a name="reduce"></a><span class="ddoc_psymbol">reduce</span><span class="template_param_list" title="Template parameter list">(R)</span>(R <i>r</i>)<br><span class="constraint">if (isIterable!R)</span>;
<br></div></dt>
<dd><div class="summary">No-seed version. The first element of <span class="d_inlinecode donthyphenate notranslate"><i>r</i></span> is used as the seed's value.
</div>
<div class="description">For each function <span class="d_inlinecode donthyphenate notranslate">f</span> in <span class="d_inlinecode donthyphenate notranslate">fun</span>, the corresponding
    seed type <span class="d_inlinecode donthyphenate notranslate">S</span> is <span class="d_inlinecode donthyphenate notranslate">Unqual!(typeof(f(e, e)))</span>, where <span class="d_inlinecode donthyphenate notranslate">e</span> is an
    element of <span class="d_inlinecode donthyphenate notranslate"><i>r</i></span>: <span class="d_inlinecode donthyphenate notranslate">ElementType!R</span> for ranges,
    and <span class="d_inlinecode donthyphenate notranslate">ForeachType!R</span> otherwise.
<p></p>

    Once S has been determined, then <span class="d_inlinecode donthyphenate notranslate">S s = e;</span> and <span class="d_inlinecode donthyphenate notranslate">s = f(s, e);</span>
    must both be legal.
<p></p>

    If <span class="d_inlinecode donthyphenate notranslate"><i>r</i></span> is empty, an <span class="d_inlinecode donthyphenate notranslate">Exception</span> is thrown.

</div>
<div class="keyval Parameters"><span class="key keyParameters">Parameters:</span> <div class="val valParameters"><table class="params"><tr class="param"><td class="param_id">fun</td>
<td class="param_desc">one or more functions</td></tr>
<tr class="param"><td class="param_id">R <i>r</i></td>
<td class="param_desc">an iterable value as defined by <span class="d_inlinecode donthyphenate notranslate">isIterable</span></td></tr>
</table></div></div>
<div class="keyval Returns"><span class="key keyReturns">Returns:</span> <div class="val valReturns">the final result of the accumulator applied to the iterable</div></div>

</dd>
<dt class="d_decl"><div ><a name=".reduce.reduce.2"></a><div class="quickindex" id="quickindex.reduce.reduce.2"></div>auto <a name="reduce"></a><span class="ddoc_psymbol">reduce</span><span class="template_param_list" title="Template parameter list">(S, R)</span>(S <i>seed</i>, R <i>r</i>)<br><span class="constraint">if (isIterable!R)</span>;
<br></div></dt>
<dd><div class="summary">Seed version. The <i>seed</i> should be a single value if <span class="d_inlinecode donthyphenate notranslate">fun</span> is a
    single function. If <span class="d_inlinecode donthyphenate notranslate">fun</span> is multiple functions, then <span class="d_inlinecode donthyphenate notranslate"><i>seed</i></span>
    should be a <span class="libref"><a href="http://dlang.org/phobos/std_typecons.html#Tuple"><span class="d_inlinecode donthyphenate notranslate">std.typecons.Tuple</span></a></span>, with one field per function in <span class="d_inlinecode donthyphenate notranslate">f</span>.
</div>
<div class="description">For convenience, if the <i>seed</i> is const, or has qualified fields, then
    <span class="d_inlinecode donthyphenate notranslate"><a name="reduce"></a><span class="ddoc_psymbol">reduce</span></span> will operate on an unqualified copy. If this happens
    then the returned type will not perfectly match <span class="d_inlinecode donthyphenate notranslate">S</span>.
<p></p>

    Use <span class="d_inlinecode donthyphenate notranslate">fold</span> instead of <span class="d_inlinecode donthyphenate notranslate"><a name="reduce"></a><span class="ddoc_psymbol">reduce</span></span> to use the <i>seed</i> version in a UFCS chain.

</div>
<div class="keyval Parameters"><span class="key keyParameters">Parameters:</span> <div class="val valParameters"><table class="params"><tr class="param"><td class="param_id">fun</td>
<td class="param_desc">one or more functions</td></tr>
<tr class="param"><td class="param_id">S <i>seed</i></td>
<td class="param_desc">the initial value of the accumulator</td></tr>
<tr class="param"><td class="param_id">R <i>r</i></td>
<td class="param_desc">an iterable value as defined by <span class="d_inlinecode donthyphenate notranslate">isIterable</span></td></tr>
</table></div></div>
<div class="keyval Returns"><span class="key keyReturns">Returns:</span> <div class="val valReturns">the final result of the accumulator applied to the iterable</div></div>

</dd>
</dl>
</dd>
<dt class="d_decl"><div ><a name=".fold"></a><div class="quickindex" id="quickindex.fold"></div>template <a name="fold"></a><span class="ddoc_psymbol">fold</span>(fun...) if (fun.length &gt;= 1)<br></div></dt>
<dd><div class="summary">Implements the homonym function (also known as <span class="d_inlinecode donthyphenate notranslate">accumulate</span>, <span class="d_inlinecode donthyphenate notranslate">compress</span>, <span class="d_inlinecode donthyphenate notranslate">inject</span>, or <span class="d_inlinecode donthyphenate notranslate">foldl</span>) present in various programming
languages of functional flavor. The call <span class="d_inlinecode donthyphenate notranslate"><a name="fold"></a><span class="ddoc_psymbol">fold</span>!(fun)(range, seed)</span>
first assigns <span class="d_inlinecode donthyphenate notranslate">seed</span> to an internal variable <span class="d_inlinecode donthyphenate notranslate">result</span>,
also called the accumulator. Then, for each element <span class="d_inlinecode donthyphenate notranslate">x</span> in <span class="d_inlinecode donthyphenate notranslate">range</span>, <span class="d_inlinecode donthyphenate notranslate">result = fun(result, x)</span> gets evaluated. Finally, <span class="d_inlinecode donthyphenate notranslate">result</span> is returned. The one-argument version <span class="d_inlinecode donthyphenate notranslate"><a name="fold"></a><span class="ddoc_psymbol">fold</span>!(fun)(range)</span>
works similarly, but it uses the first element of the range as the
seed (the range must be non-empty).
</div>
<div class="keyval Returns"><span class="key keyReturns">Returns:</span> <div class="val valReturns">the accumulated <span class="d_inlinecode donthyphenate notranslate">result</span>

</div></div>
<div class="keyval SeeAlso"><span class="key keySeeAlso">See Also:</span> <div class="val valSeeAlso"><a href="http://en.wikipedia.org/wiki/Fold_(higher-order_function)">Fold (higher-order function)</a>
<p></p>

    <a href="#sum"><span class="d_inlinecode donthyphenate notranslate">sum</span></a> is similar to <span class="d_inlinecode donthyphenate notranslate"><a name="fold"></a><span class="ddoc_psymbol">fold</span>!((a, b) =&gt; a + b)</span> that offers
    precise summing of floating point numbers.
<p></p>

    This is functionally equivalent to <a href="#reduce"><span class="d_inlinecode donthyphenate notranslate">reduce</span></a> with the argument order reversed,
    and without the need to use <a href="#tuple"><span class="d_inlinecode donthyphenate notranslate">tuple</span></a> for multiple seeds.</div></div>
<div class="keyval Examples"><span class="key keyExamples">Examples:</span> <div class="val valExamples"><pre class="d_code notranslate">
<span class="d_keyword">immutable</span> arr = [1, 2, 3, 4, 5];

<span class="d_comment">// Sum all elements
</span><span class="d_keyword">assert</span>(arr.<span class="d_psymbol">fold</span>!((a, b) =&gt; a + b) == 15);

<span class="d_comment">// Sum all elements with explicit seed
</span><span class="d_keyword">assert</span>(arr.<span class="d_psymbol">fold</span>!((a, b) =&gt; a + b)(6) == 21);

<span class="d_keyword">import</span> std.algorithm.comparison: min, max;
<span class="d_keyword">import</span> std.typecons: tuple;

<span class="d_comment">// Compute minimum and maximum at the same time
</span><span class="d_keyword">assert</span>(arr.<span class="d_psymbol">fold</span>!(min, max) == tuple(1, 5));

<span class="d_comment">// Compute minimum and maximum at the same time with seeds
</span><span class="d_keyword">assert</span>(arr.<span class="d_psymbol">fold</span>!(min, max)(0, 7) == tuple(0, 7));

<span class="d_comment">// Can be used in a UFCS chain
</span><span class="d_keyword">assert</span>(arr.map!(a =&gt; a + 1).<span class="d_psymbol">fold</span>!((a, b) =&gt; a + b) == 20);
</pre>
</div></div>
</dd>
<dt class="d_decl"><div ><a name=".splitter"></a><div class="quickindex" id="quickindex.splitter"></div>auto <a name="splitter"></a><span class="ddoc_psymbol">splitter</span><span class="template_param_list" title="Template parameter list">(alias pred = "a == b", Range, Separator)</span>(Range <i>r</i>, Separator <i>s</i>)<br><span class="constraint">if (is(typeof(binaryFun!pred(<i>r</i>.front, <i>s</i>)) : bool) &amp;&amp; (hasSlicing!Range &amp;&amp; hasLength!Range || isNarrowString!Range))</span>;
<br></div></dt>
<dd><div class="summary">Lazily splits a range using an element as a separator. This can be used with
any narrow string type or sliceable range type, but is most popular with string
types.
</div>
<div class="description">Two adjacent separators are considered to surround an empty element in
the split range. Use <span class="d_inlinecode donthyphenate notranslate">filter!(a =&gt; !a.empty)</span> on the result to compress
empty elements.
<p></p>

The predicate is passed to <span class="libref"><a href="http://dlang.org/phobos/std_functional.html#binaryFun"><span class="d_inlinecode donthyphenate notranslate">std.functional.binaryFun</span></a></span>, and can either accept
a string, or any callable that can be executed via <span class="d_inlinecode donthyphenate notranslate">pred(element, <i>s</i>)</span>.
<p></p>

If the empty range is given, the result is a range with one empty
element. If a range with one separator is given, the result is a range
with two empty elements.
<p></p>

If splitting a string on whitespace and token compression is desired,
consider using <span class="d_inlinecode donthyphenate notranslate"><a name="splitter"></a><span class="ddoc_psymbol">splitter</span></span> without specifying a separator (see fourth overload
below).

</div>
<div class="keyval Parameters"><span class="key keyParameters">Parameters:</span> <div class="val valParameters"><table class="params"><tr class="param"><td class="param_id">pred</td>
<td class="param_desc">The predicate for comparing each element with the separator,
        defaulting to <span class="d_inlinecode donthyphenate notranslate">"a == b"</span>.</td></tr>
<tr class="param"><td class="param_id">Range <i>r</i></td>
<td class="param_desc">The <span class="libref"><a href="http://dlang.org/phobos/std_range_primitives.html#isInputRange">input range</a></span> to be
        split. Must support slicing and <span class="d_inlinecode donthyphenate notranslate">.length</span>.</td></tr>
<tr class="param"><td class="param_id">Separator <i>s</i></td>
<td class="param_desc">The element to be treated as the separator between range segments to be
        split.</td></tr>
</table></div></div>
<div class="val"><p class="keyval Section"><span class="key keySection">Constraints:</span>
The predicate <span class="d_inlinecode donthyphenate notranslate">pred</span> needs to accept an element of <span class="d_inlinecode donthyphenate notranslate"><i>r</i></span> and the
    separator <span class="d_inlinecode donthyphenate notranslate"><i>s</i></span>.

</p></div>
<div class="keyval Returns"><span class="key keyReturns">Returns:</span> <div class="val valReturns">An input range of the subranges of elements between separators. If <span class="d_inlinecode donthyphenate notranslate"><i>r</i></span>
    is a forward range or bidirectional range, the returned range will be
    likewise.

</div></div>
<div class="keyval SeeAlso"><span class="key keySeeAlso">See Also:</span> <div class="val valSeeAlso"><span class="libref"><a href="http://dlang.org/phobos/std_regex.html#splitter"><span class="d_inlinecode donthyphenate notranslate">std.regex.splitter</span></a></span> for a version that splits using a regular
expression defined separator.</div></div>
<div class="keyval Examples"><span class="key keyExamples">Examples:</span> <div class="val valExamples"><pre class="d_code notranslate">
<span class="d_keyword">import</span> std.algorithm.comparison : equal;

<span class="d_keyword">assert</span>(equal(<span class="d_psymbol">splitter</span>(<span class="d_string">"hello  world"</span>, ' '), [ <span class="d_string">"hello"</span>, <span class="d_string">""</span>, <span class="d_string">"world"</span> ]));
<span class="d_keyword">int</span>[] a = [ 1, 2, 0, 0, 3, 0, 4, 5, 0 ];
<span class="d_keyword">int</span>[][] w = [ [1, 2], [], [3], [4, 5], [] ];
<span class="d_keyword">assert</span>(equal(<span class="d_psymbol">splitter</span>(a, 0), w));
a = [ 0 ];
<span class="d_keyword">assert</span>(equal(<span class="d_psymbol">splitter</span>(a, 0), [ (<span class="d_keyword">int</span>[]).init, (<span class="d_keyword">int</span>[]).init ]));
a = [ 0, 1 ];
<span class="d_keyword">assert</span>(equal(<span class="d_psymbol">splitter</span>(a, 0), [ [], [1] ]));
w = [ [0], [1], [2] ];
<span class="d_keyword">assert</span>(equal(<span class="d_psymbol">splitter</span>!<span class="d_string">"a.front == b"</span>(w, 1), [ [[0]], [[2]] ]));
</pre>
</div></div>
</dd>
<dt class="d_decl"><div ><a name=".splitter.2"></a><div class="quickindex" id="quickindex.splitter.2"></div>auto <a name="splitter"></a><span class="ddoc_psymbol">splitter</span><span class="template_param_list" title="Template parameter list">(alias pred = "a == b", Range, Separator)</span>(Range <i>r</i>, Separator <i>s</i>)<br><span class="constraint">if (is(typeof(binaryFun!pred(<i>r</i>.front, <i>s</i>.front)) : bool) &amp;&amp; (hasSlicing!Range || isNarrowString!Range) &amp;&amp; isForwardRange!Separator &amp;&amp; (hasLength!Separator || isNarrowString!Separator))</span>;
<br></div></dt>
<dd><div class="summary">Similar to the previous overload of <span class="d_inlinecode donthyphenate notranslate"><a name="splitter"></a><span class="ddoc_psymbol">splitter</span></span>, except this one uses another
range as a separator. This can be used with any narrow string type or sliceable
range type, but is most popular with string types. The predicate is passed to
<span class="libref"><a href="http://dlang.org/phobos/std_functional.html#binaryFun"><span class="d_inlinecode donthyphenate notranslate">std.functional.binaryFun</span></a></span>, and can either accept a string, or any callable
that can be executed via <span class="d_inlinecode donthyphenate notranslate">pred(<i>r</i>.front, <i>s</i>.front)</span>.
</div>
<div class="description">Two adjacent separators are considered to surround an empty element in
the split range. Use <span class="d_inlinecode donthyphenate notranslate">filter!(a =&gt; !a.empty)</span> on the result to compress
empty elements.

</div>
<div class="keyval Parameters"><span class="key keyParameters">Parameters:</span> <div class="val valParameters"><table class="params"><tr class="param"><td class="param_id">pred</td>
<td class="param_desc">The predicate for comparing each element with the separator,
        defaulting to <span class="d_inlinecode donthyphenate notranslate">"a == b"</span>.</td></tr>
<tr class="param"><td class="param_id">Range <i>r</i></td>
<td class="param_desc">The <span class="libref"><a href="http://dlang.org/phobos/std_range_primitives.html#isInputRange">input range</a></span> to be
        split.</td></tr>
<tr class="param"><td class="param_id">Separator <i>s</i></td>
<td class="param_desc">The <span class="libref"><a href="http://dlang.org/phobos/std_range_primitives.html#isForwardRange">forward range</a></span> to
        be treated as the separator between segments of <span class="d_inlinecode donthyphenate notranslate"><i>r</i></span> to be split.</td></tr>
</table></div></div>
<div class="val"><p class="keyval Section"><span class="key keySection">Constraints:</span>
The predicate <span class="d_inlinecode donthyphenate notranslate">pred</span> needs to accept an element of <span class="d_inlinecode donthyphenate notranslate"><i>r</i></span> and an
    element of <span class="d_inlinecode donthyphenate notranslate"><i>s</i></span>.

</p></div>
<div class="keyval Returns"><span class="key keyReturns">Returns:</span> <div class="val valReturns">An input range of the subranges of elements between separators. If <span class="d_inlinecode donthyphenate notranslate"><i>r</i></span>
    is a forward range or bidirectional range, the returned range will be
    likewise.

</div></div>
<div class="keyval SeeAlso"><span class="key keySeeAlso">See Also:</span> <div class="val valSeeAlso"><span class="libref"><a href="http://dlang.org/phobos/std_regex.html#splitter"><span class="d_inlinecode donthyphenate notranslate">std.regex.splitter</span></a></span> for a version that splits using a regular
expression defined separator.</div></div>
<div class="keyval Examples"><span class="key keyExamples">Examples:</span> <div class="val valExamples"><pre class="d_code notranslate">
<span class="d_keyword">import</span> std.algorithm.comparison : equal;

<span class="d_keyword">assert</span>(equal(<span class="d_psymbol">splitter</span>(<span class="d_string">"hello  world"</span>, <span class="d_string">"  "</span>), [ <span class="d_string">"hello"</span>, <span class="d_string">"world"</span> ]));
<span class="d_keyword">int</span>[] a = [ 1, 2, 0, 0, 3, 0, 4, 5, 0 ];
<span class="d_keyword">int</span>[][] w = [ [1, 2], [3, 0, 4, 5, 0] ];
<span class="d_keyword">assert</span>(equal(<span class="d_psymbol">splitter</span>(a, [0, 0]), w));
a = [ 0, 0 ];
<span class="d_keyword">assert</span>(equal(<span class="d_psymbol">splitter</span>(a, [0, 0]), [ (<span class="d_keyword">int</span>[]).init, (<span class="d_keyword">int</span>[]).init ]));
a = [ 0, 0, 1 ];
<span class="d_keyword">assert</span>(equal(<span class="d_psymbol">splitter</span>(a, [0, 0]), [ [], [1] ]));
</pre>
</div></div>
</dd>
<dt class="d_decl"><div ><a name=".splitter.3"></a><div class="quickindex" id="quickindex.splitter.3"></div>auto <a name="splitter"></a><span class="ddoc_psymbol">splitter</span><span class="template_param_list" title="Template parameter list">(alias isTerminator, Range)</span>(Range <i>input</i>)<br><span class="constraint">if (isForwardRange!Range &amp;&amp; is(typeof(unaryFun!isTerminator(<i>input</i>.front))))</span>;
<br></div></dt>
<dd><div class="summary">Similar to the previous overload of <span class="d_inlinecode donthyphenate notranslate"><a name="splitter"></a><span class="ddoc_psymbol">splitter</span></span>, except this one does not use a separator.
Instead, the predicate is an unary function on the <i>input</i> range's element type.
The <span class="d_inlinecode donthyphenate notranslate">isTerminator</span> predicate is passed to <span class="libref"><a href="http://dlang.org/phobos/std_functional.html#unaryFun"><span class="d_inlinecode donthyphenate notranslate">std.functional.unaryFun</span></a></span> and can
either accept a string, or any callable that can be executed via <span class="d_inlinecode donthyphenate notranslate">pred(element, s)</span>.
</div>
<div class="description">Two adjacent separators are considered to surround an empty element in
the split range. Use <span class="d_inlinecode donthyphenate notranslate">filter!(a =&gt; !a.empty)</span> on the result to compress
empty elements.

</div>
<div class="keyval Parameters"><span class="key keyParameters">Parameters:</span> <div class="val valParameters"><table class="params"><tr class="param"><td class="param_id">isTerminator</td>
<td class="param_desc">The predicate for deciding where to split the range.</td></tr>
<tr class="param"><td class="param_id">Range <i>input</i></td>
<td class="param_desc">The <span class="libref"><a href="http://dlang.org/phobos/std_range_primitives.html#isInputRange"><i>input</i> range</a></span> to
        be split.</td></tr>
</table></div></div>
<div class="val"><p class="keyval Section"><span class="key keySection">Constraints:</span>
The predicate <span class="d_inlinecode donthyphenate notranslate">isTerminator</span> needs to accept an element of <span class="d_inlinecode donthyphenate notranslate"><i>input</i></span>.

</p></div>
<div class="keyval Returns"><span class="key keyReturns">Returns:</span> <div class="val valReturns">An <i>input</i> range of the subranges of elements between separators. If <span class="d_inlinecode donthyphenate notranslate"><i>input</i></span>
    is a forward range or bidirectional range, the returned range will be
    likewise.

</div></div>
<div class="keyval SeeAlso"><span class="key keySeeAlso">See Also:</span> <div class="val valSeeAlso"><span class="libref"><a href="http://dlang.org/phobos/std_regex.html#splitter"><span class="d_inlinecode donthyphenate notranslate">std.regex.splitter</span></a></span> for a version that splits using a regular
expression defined separator.</div></div>
<div class="keyval Examples"><span class="key keyExamples">Examples:</span> <div class="val valExamples"><pre class="d_code notranslate">
<span class="d_keyword">import</span> std.algorithm.comparison : equal;

<span class="d_keyword">assert</span>(equal(<span class="d_psymbol">splitter</span>!(a =&gt; a == ' ')(<span class="d_string">"hello  world"</span>), [ <span class="d_string">"hello"</span>, <span class="d_string">""</span>, <span class="d_string">"world"</span> ]));
<span class="d_keyword">int</span>[] a = [ 1, 2, 0, 0, 3, 0, 4, 5, 0 ];
<span class="d_keyword">int</span>[][] w = [ [1, 2], [], [3], [4, 5], [] ];
<span class="d_keyword">assert</span>(equal(<span class="d_psymbol">splitter</span>!(a =&gt; a == 0)(a), w));
a = [ 0 ];
<span class="d_keyword">assert</span>(equal(<span class="d_psymbol">splitter</span>!(a =&gt; a == 0)(a), [ (<span class="d_keyword">int</span>[]).init, (<span class="d_keyword">int</span>[]).init ]));
a = [ 0, 1 ];
<span class="d_keyword">assert</span>(equal(<span class="d_psymbol">splitter</span>!(a =&gt; a == 0)(a), [ [], [1] ]));
w = [ [0], [1], [2] ];
<span class="d_keyword">assert</span>(equal(<span class="d_psymbol">splitter</span>!(a =&gt; a.front == 1)(w), [ [[0]], [[2]] ]));
</pre>
</div></div>
</dd>
<dt class="d_decl"><div ><a name=".splitter.4"></a><div class="quickindex" id="quickindex.splitter.4"></div>auto <a name="splitter"></a><span class="ddoc_psymbol">splitter</span><span class="template_param_list" title="Template parameter list">(C)</span>(C[] <i>s</i>)<br><span class="constraint">if (isSomeChar!C)</span>;
<br></div></dt>
<dd><div class="summary">Lazily splits the string <span class="d_inlinecode donthyphenate notranslate"><i>s</i></span> into words, using whitespace as the delimiter.
</div>
<div class="description">This function is string specific and, contrary to
<span class="d_inlinecode donthyphenate notranslate"><a name="splitter"></a><span class="ddoc_psymbol">splitter</span>!(std.uni.isWhite)</span>, runs of whitespace will be merged together
(no empty tokens will be produced).

</div>
<div class="keyval Parameters"><span class="key keyParameters">Parameters:</span> <div class="val valParameters"><table class="params"><tr class="param"><td class="param_id">C[] <i>s</i></td>
<td class="param_desc">The string to be split.</td></tr>
</table></div></div>
<div class="keyval Returns"><span class="key keyReturns">Returns:</span> <div class="val valReturns">An <span class="libref"><a href="http://dlang.org/phobos/std_range_primitives.html#isInputRange">input range</a></span> of slices of
    the original string split by whitespace.</div></div>
<div class="keyval Examples"><span class="key keyExamples">Examples:</span> <div class="val valExamples"><pre class="d_code notranslate">
<span class="d_keyword">import</span> std.algorithm.comparison : equal;
<span class="d_keyword">auto</span> a = <span class="d_string">" a     bcd   ef gh "</span>;
<span class="d_keyword">assert</span>(equal(<span class="d_psymbol">splitter</span>(a), [<span class="d_string">"a"</span>, <span class="d_string">"bcd"</span>, <span class="d_string">"ef"</span>, <span class="d_string">"gh"</span>][]));
</pre>
</div></div>
</dd>
<dt class="d_decl"><div ><a name=".sum"></a><div class="quickindex" id="quickindex.sum"></div>auto <a name="sum"></a><span class="ddoc_psymbol">sum</span><span class="template_param_list" title="Template parameter list">(R)</span>(R <i>r</i>)<br><span class="constraint">if (isInputRange!R &amp;&amp; !isInfinite!R &amp;&amp; is(typeof(<i>r</i>.front + <i>r</i>.front)))</span>;
<br><br>auto <a name="sum"></a><span class="ddoc_psymbol">sum</span><span class="template_param_list" title="Template parameter list">(R, E)</span>(R <i>r</i>, E <i>seed</i>)<br><span class="constraint">if (isInputRange!R &amp;&amp; !isInfinite!R &amp;&amp; is(typeof(<i>seed</i> = <i>seed</i> + <i>r</i>.front)))</span>;
<br></div></dt>
<dd><div class="summary">Sums elements of <span class="d_inlinecode donthyphenate notranslate"><i>r</i></span>, which must be a finite
<span class="libref"><a href="http://dlang.org/phobos/std_range_primitives.html#isInputRange">input range</a></span>. Although
conceptually <span class="d_inlinecode donthyphenate notranslate"><a name="sum"></a><span class="ddoc_psymbol">sum</span>(<i>r</i>)</span> is equivalent to <a href="#fold"><span class="d_inlinecode donthyphenate notranslate">fold</span></a>!((a, b) =&gt; a +
b)(<i>r</i>, 0), <span class="d_inlinecode donthyphenate notranslate"><a name="sum"></a><span class="ddoc_psymbol">sum</span></span> uses specialized algorithms to maximize accuracy,
as follows.
</div>
<div class="description"><ul><li>If <span class="d_inlinecode donthyphenate notranslate"><span class="libref"><a href="http://dlang.org/phobos/std_range_primitives.html#ElementType"><span class="d_inlinecode donthyphenate notranslate">std.range.primitives.ElementType</span></a></span>!R</span> is a floating-point
type and <span class="d_inlinecode donthyphenate notranslate">R</span> is a
<span class="libref"><a href="http://dlang.org/phobos/std_range_primitives.html#isRandomAccessRange">random-access range</a></span> with
length and slicing, then <span class="d_inlinecode donthyphenate notranslate"><a name="sum"></a><span class="ddoc_psymbol">sum</span></span> uses the
<a href="http://en.wikipedia.org/wiki/Pairwise_summation">pairwise summation</a>
algorithm.</li>
<li>If <span class="d_inlinecode donthyphenate notranslate">ElementType!R</span> is a floating-point type and <span class="d_inlinecode donthyphenate notranslate">R</span> is a
finite input range (but not a random-access range with slicing), then
<span class="d_inlinecode donthyphenate notranslate"><a name="sum"></a><span class="ddoc_psymbol">sum</span></span> uses the <a href="http://en.wikipedia.org/wiki/Kahan_summation">Kahan summation</a> algorithm.</li>
<li>In all other cases, a simple element by element addition is done.</li>
</ul>
<p></p>

For floating point inputs, calculations are made in
<a href="../spec/type.html"><span class="d_inlinecode donthyphenate notranslate">real</span></a>
precision for <span class="d_inlinecode donthyphenate notranslate">real</span> inputs and in <span class="d_inlinecode donthyphenate notranslate">double</span> precision otherwise
(Note this is a special case that deviates from <span class="d_inlinecode donthyphenate notranslate">fold</span>'s behavior,
which would have kept <span class="d_inlinecode donthyphenate notranslate">float</span> precision for a <span class="d_inlinecode donthyphenate notranslate">float</span> range).
For all other types, the calculations are done in the same type obtained
from from adding two elements of the range, which may be a different
type from the elements themselves (for example, in case of
<a href="../spec/type.html#integer-promotions">integral promotion</a>).
<p></p>

A <i>seed</i> may be passed to <span class="d_inlinecode donthyphenate notranslate"><a name="sum"></a><span class="ddoc_psymbol">sum</span></span>. Not only will this <i>seed</i> be used as an initial
value, but its type will override all the above, and determine the algorithm
and precision used for summation.
<p></p>

Note that these specialized summing algorithms execute more primitive operations
than vanilla summation. Therefore, if in certain cases maximum speed is required
at expense of precision, one can use <span class="d_inlinecode donthyphenate notranslate">fold!((a, b) =&gt; a + b)(<i>r</i>, 0)</span>, which
is not specialized for summation.

</div>
<div class="keyval Parameters"><span class="key keyParameters">Parameters:</span> <div class="val valParameters"><table class="params"><tr class="param"><td class="param_id">E <i>seed</i></td>
<td class="param_desc">the initial value of the summation</td></tr>
<tr class="param"><td class="param_id">R <i>r</i></td>
<td class="param_desc">a finite input range</td></tr>
</table></div></div>
<div class="keyval Returns"><span class="key keyReturns">Returns:</span> <div class="val valReturns">The <a name="sum"></a><span class="ddoc_psymbol">sum</span> of all the elements in the range <i>r</i>.</div></div>

</dd>
<dt class="d_decl"><div ><a name=".uniq"></a><div class="quickindex" id="quickindex.uniq"></div>auto <a name="uniq"></a><span class="ddoc_psymbol">uniq</span><span class="template_param_list" title="Template parameter list">(alias pred = "a == b", Range)</span>(Range <i>r</i>)<br><span class="constraint">if (isInputRange!Range &amp;&amp; is(typeof(binaryFun!pred(<i>r</i>.front, <i>r</i>.front)) == bool))</span>;
<br></div></dt>
<dd><div class="summary">Lazily iterates unique consecutive elements of the given range (functionality
akin to the <a href="http://wikipedia.org/wiki/Uniq">uniq</a> system
utility). Equivalence of elements is assessed by using the predicate
<span class="d_inlinecode donthyphenate notranslate">pred</span>, by default <span class="d_inlinecode donthyphenate notranslate">"a == b"</span>. The predicate is passed to
<span class="libref"><a href="http://dlang.org/phobos/std_functional.html#binaryFun"><span class="d_inlinecode donthyphenate notranslate">std.functional.binaryFun</span></a></span>, and can either accept a string, or any callable
that can be executed via <span class="d_inlinecode donthyphenate notranslate">pred(element, element)</span>. If the given range is
bidirectional, <span class="d_inlinecode donthyphenate notranslate"><a name="uniq"></a><span class="ddoc_psymbol">uniq</span></span> also yields a bidirectional range.
</div>
<div class="keyval Parameters"><span class="key keyParameters">Parameters:</span> <div class="val valParameters"><table class="params"><tr class="param"><td class="param_id">pred</td>
<td class="param_desc">Predicate for determining equivalence between range elements.</td></tr>
<tr class="param"><td class="param_id">Range <i>r</i></td>
<td class="param_desc">An <span class="libref"><a href="http://dlang.org/phobos/std_range_primitives.html#isInputRange">input range</a></span> of
        elements to filter.</td></tr>
</table></div></div>
<div class="keyval Returns"><span class="key keyReturns">Returns:</span> <div class="val valReturns">An <span class="libref"><a href="http://dlang.org/phobos/std_range_primitives.html#isInputRange">input range</a></span> of
    consecutively unique elements in the original range. If <span class="d_inlinecode donthyphenate notranslate"><i>r</i></span> is also a
    forward range or bidirectional range, the returned range will be likewise.</div></div>
<div class="keyval Examples"><span class="key keyExamples">Examples:</span> <div class="val valExamples"><pre class="d_code notranslate">
<span class="d_keyword">import</span> std.algorithm.mutation : copy;
<span class="d_keyword">import</span> std.algorithm.comparison : equal;

<span class="d_keyword">int</span>[] arr = [ 1, 2, 2, 2, 2, 3, 4, 4, 4, 5 ];
<span class="d_keyword">assert</span>(equal(<span class="d_psymbol">uniq</span>(arr), [ 1, 2, 3, 4, 5 ][]));

<span class="d_comment">// Filter duplicates in-place using copy
</span>arr.length -= arr.<span class="d_psymbol">uniq</span>().copy(arr).length;
<span class="d_keyword">assert</span>(arr == [ 1, 2, 3, 4, 5 ]);

<span class="d_comment">// Note that uniqueness is only determined consecutively; duplicated
</span><span class="d_comment">// elements separated by an intervening different element will not be
</span><span class="d_comment">// eliminated:
</span><span class="d_keyword">assert</span>(equal(<span class="d_psymbol">uniq</span>([ 1, 1, 2, 1, 1, 3, 1]), [1, 2, 1, 3, 1]));
</pre>
</div></div>
</dd>
<dt class="d_decl"><div ><a name=".permutations"></a><div class="quickindex" id="quickindex.permutations"></div>Permutations!Range <a name="permutations"></a><span class="ddoc_psymbol">permutations</span><span class="template_param_list" title="Template parameter list">(Range)</span>(Range <i>r</i>)<br><span class="constraint">if (isRandomAccessRange!Range &amp;&amp; hasLength!Range)</span>;
<br></div></dt>
<dd><div class="summary">Lazily computes all permutations of <span class="d_inlinecode donthyphenate notranslate"><i>r</i></span> using <a href="http://en.wikipedia.org/wiki/Heap%27s_algorithm">Heap's algorithm</a>.
</div>
<div class="keyval Returns"><span class="key keyReturns">Returns:</span> <div class="val valReturns">A forward range the elements of which are an <span class="libref"><a href="http://dlang.org/phobos/std_range.html#indexed"><span class="d_inlinecode donthyphenate notranslate">std.range.indexed</span></a></span> view into <span class="d_inlinecode donthyphenate notranslate"><i>r</i></span>.

</div></div>
<div class="keyval SeeAlso"><span class="key keySeeAlso">See Also:</span> <div class="val valSeeAlso"><span class="libref"><a href="http://dlang.org/phobos/std_algorithm_sorting.html#nextPermutation"><span class="d_inlinecode donthyphenate notranslate">std.algorithm.sorting.nextPermutation</span></a></span>.</div></div>
<div class="keyval Examples"><span class="key keyExamples">Examples:</span> <div class="val valExamples"><pre class="d_code notranslate">
<span class="d_keyword">import</span> std.algorithm.comparison : equal;
<span class="d_keyword">import</span> std.range : iota;
<span class="d_keyword">assert</span>(equal!equal(iota(3).<span class="d_psymbol">permutations</span>,
    [[0, 1, 2],
     [1, 0, 2],
     [2, 0, 1],
     [0, 2, 1],
     [1, 2, 0],
     [2, 1, 0]]));
</pre>
</div></div>
</dd>
</dl>

        <div class="smallprint" id="copyright">Andrei Alexandrescu 2008-.

 | Page generated by
<a href="../spec/ddoc.html">Ddoc</a> on (no date time)</div>
    </div>
</div>

    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script type="text/javascript">window.jQuery || document.write('\x3Cscript src="../js/jquery-1.7.2.min.js">\x3C/script>');</script>
    <script type="text/javascript" src="../js/dlang.js"></script>
    
    <script type="text/javascript" src="../js/codemirror-compressed.js"></script>
    <script type="text/javascript" src="../js/run.js"></script>

<script type="text/javascript" src="../js/listanchors.js"></script>
<script type="text/javascript">jQuery(document).ready(listanchors);</script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css">
</body>
</html>
